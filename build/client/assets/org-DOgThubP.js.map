{"version":3,"file":"org-DOgThubP.js","sources":["../../../node_modules/@heroicons/react/20/solid/esm/MinusIcon.js","../../../node_modules/@heroicons/react/20/solid/esm/PencilSquareIcon.js","../../../node_modules/@heroicons/react/20/solid/esm/PlusIcon.js","../../../app/components/OrgTreeView/index.tsx","../../../app/routes/_withNav+/_withSideBar+/_manage+/org.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction MinusIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(MinusIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PencilSquareIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m5.433 13.917 1.262-3.155A4 4 0 0 1 7.58 9.42l6.92-6.918a2.121 2.121 0 0 1 3 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 0 1-.65-.65Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0 0 10 3H4.75A2.75 2.75 0 0 0 2 5.75v9.5A2.75 2.75 0 0 0 4.75 18h9.5A2.75 2.75 0 0 0 17 15.25V10a.75.75 0 0 0-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PencilSquareIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PlusIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlusIcon);\nexport default ForwardRef;","import { LinkButton } from '@components/ui/Buttons';\nimport { Transition } from '@headlessui/react';\nimport {\n  MinusIcon,\n  PencilSquareIcon,\n  PlusIcon,\n  XCircleIcon,\n  PlusCircleIcon,\n  BuildingOfficeIcon,\n  GlobeAmericasIcon,\n} from '@heroicons/react/20/solid';\nimport type { OrganizationWithChildren } from '@repositories/organization.server';\nimport { useRef, useState } from 'react';\n\nfunction getBackgroundClass(length: number): string {\n  const classes = [\n    'bg-zinc-400', // Default white for length 0\n    'bg-slate-200',\n    'bg-slate-300',\n    'bg-slate-400',\n    'bg-slate-100',\n    'bg-slate-200',\n    'bg-slate-300',\n    'bg-slate-400',\n    // Add more colors as needed\n  ];\n  return classes[length] || 'bg-zinc-400'; // Default to white if length exceeds the defined classes\n}\n\nexport default function OrgTreeView({\n  tree,\n}: {\n  tree: OrganizationWithChildren;\n}) {\n  const [minimized, setMinimized] = useState(tree?.depth !== 0);\n  const divRef = useRef(null);\n\n  console.log('tree: ', tree);\n\n  if (!tree) return null;\n\n  return (\n    <div\n      className={`${\n        tree.depth > 1\n          ? 'pl-9 before:absolute before:top-0 before:start-5 before:w-0.5 before:-ms-px before:h-full before:bg-zinc-400 dark:before:bg-neutral-700'\n          : 'pl-0'\n      }`}\n    >\n      <div\n        className={`flex justify-start ring-1 ring-slate-500 items-center py-1.5 ${getBackgroundClass(tree.depth)} ${tree.depth === 0 ? 'rounded-t-lg' : 'mb-1'}`}\n      >\n        <div\n          className={`flex items-center justify-between w-full ${\n            tree.children && tree.depth > 0\n              ? 'hover:cursor-pointer'\n              : 'cursor-default'\n          }`}\n        >\n          <div\n            className=\"flex items-center flex-grow pl-3\"\n            onClick={() => {\n              if (tree.children && tree.depth > 0) setMinimized(!minimized);\n            }}\n          >\n            {tree.depth > 0 && (\n              <div className=\"size-5\">\n                {tree.children ? (\n                  <>\n                    {!minimized && <MinusIcon className=\"size-5\" />}\n                    {minimized && <PlusIcon className=\"size-5\" />}\n                  </>\n                ) : (\n                  <span> </span>\n                )}\n              </div>\n            )}\n            <div className={`py-1 ml-3 inline-flex`} ref={divRef}>\n              {tree?.name}\n            </div>\n            <div className=\"pl-3 text-slate-600\">\n              {tree?.isBase ? (\n            //    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"24\" viewBox=\"0 0 48 24\">\n               \n            //    <g transform=\"translate(0, 0)\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n            //      <path d=\"M15 19v-2a3 3 0 0 0 -6 0v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-14h4v3h3v-3h4v3h3v-3h4v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z\"/>\n            //      <path d=\"M3 11l18 0\"/>\n            //    </g>\n             \n            //    <g transform=\"translate(16, 6) scale(0.8)\">\n            //      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\n            //      <path stroke=\"currentColor\" stroke-width=\"2\" d=\"M11.884 2.007l.114 -.007l.118 .007l.059 .008l.061 .013l.111 .034a.993 .993 0 0 1 .217 .112l.104 .082l.255 .218a11 11 0 0 0 7.189 2.537l.342 -.01a1 1 0 0 1 1.005 .717a13 13 0 0 1 -9.208 16.25a1 1 0 0 1 -.502 0a13 13 0 0 1 -9.209 -16.25a1 1 0 0 1 1.005 -.717a11 11 0 0 0 7.531 -2.527l.263 -.225l.096 -.075a.993 .993 0 0 1 .217 -.112l.112 -.034a.97 .97 0 0 1 .119 -.021z\"/>\n            //    </g>\n            //  </svg>\n            <svg  xmlns=\"http://www.w3.org/2000/svg\"  width=\"24\"  height=\"24\"  viewBox=\"0 0 24 24\"  fill=\"none\"  stroke=\"currentColor\"  stroke-width=\"2\"  stroke-linecap=\"round\"  stroke-linejoin=\"round\"  class=\"icon icon-tabler icons-tabler-outline icon-tabler-map-2\"><path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 18.5l-3 -1.5l-6 3v-13l6 -3l6 3l6 -3v7.5\" /><path d=\"M9 4v13\" /><path d=\"M15 7v5.5\" /><path d=\"M21.121 20.121a3 3 0 1 0 -4.242 0c.418 .419 1.125 1.045 2.121 1.879c1.051 -.89 1.759 -1.516 2.121 -1.879z\" /><path d=\"M19 18v.01\" /></svg>\n              ) : (\n                ''\n              )}\n              {tree?.isWingLevel ? (\n                <svg  xmlns=\"http://www.w3.org/2000/svg\"  width=\"24\"  height=\"24\"  viewBox=\"0 0 24 24\"  fill=\"none\"  stroke=\"currentColor\"  stroke-width=\"2\"  stroke-linecap=\"round\"  stroke-linejoin=\"round\"  class=\"icon icon-tabler icons-tabler-outline icon-tabler-users-group\"><path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M10 13a2 2 0 1 0 4 0a2 2 0 0 0 -4 0\" /><path d=\"M8 21v-1a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v1\" /><path d=\"M15 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0\" /><path d=\"M17 10h2a2 2 0 0 1 2 2v1\" /><path d=\"M5 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0\" /><path d=\"M3 13v-1a2 2 0 0 1 2 -2h2\" /></svg>\n              ) : (\n                ''\n              )}\n            </div>\n          </div>\n          <div className=\"flex gap-x-2 pr-3\">\n            {!tree.children && (\n              <LinkButton\n                to={`/org/${tree.uuid}/delete`}\n                variant=\"red\"\n                className=\"flex items-center gap-1\"\n              >\n                <XCircleIcon className=\"size-5\" />\n                Delete\n              </LinkButton>\n            )}\n            {/* <LinkButton\n              to={`/org/create?org=${tree.uuid}`}\n              variant=\"green\"\n              className=\"flex gap-1 items-center line-clamp-1\"\n            >\n              <PlusCircleIcon className=\"size-5\" />\n              Add Org\n            </LinkButton> */}\n            {tree.uuid !== 'DAF' && (\n              <LinkButton\n                to={`/org/${tree.uuid}/edit`}\n                className=\"flex gap-1 items-center\"\n              >\n                <PencilSquareIcon className=\"size-5\" />\n                Edit\n              </LinkButton>\n            )}\n          </div>\n        </div>\n      </div>\n      <Transition show={!minimized}>\n        <div className=\"relative transition ease-in-out data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-300\">\n          {tree.children &&\n            tree.children?.length > 0 &&\n            tree?.children.map((child) => {\n              if (!child) return null;\n              return <OrgTreeView tree={child} key={child?.uuid} />;\n            })}\n        </div>\n      </Transition>\n    </div>\n  );\n}\n","import OrgTreeView from '@components/OrgTreeView';\nimport { LinkButton } from '@components/ui/Buttons';\nimport ErrorReport from '@components/ui/ErrorReport';\nimport PageHeader from '@components/ui/PageHeader';\nimport { useManageLayoutData } from '@lib/hooks/useMatchesData';\nimport { json, type LoaderFunctionArgs } from '@remix-run/node';\nimport { Outlet } from '@remix-run/react';\n\nexport const loader = async () => {\n  return json({}, {\n    headers: {\n      'X-Frame-Options': 'SAMEORIGIN',\n    },\n  });\n};\n\nconst OrgIndex = () => {\n  const { parentNode } = useManageLayoutData();\n\n  return (\n    <>\n      <PageHeader pageTitle=\"Manage Organizations\" />\n      <div className=\"mb-7 text-center inline-flex\">\n        <LinkButton variant=\"green\" to={`/org/create`}>\n          Add Organization\n        </LinkButton>\n      </div>\n      <section className=\"bg-zinc-200 relative mx-10\">\n        <OrgTreeView tree={parentNode} />\n      </section>\n      <Outlet />\n    </>\n  );\n};\nexport const ErrorBoundary = ErrorReport;\nexport default OrgIndex;\n\n"],"names":["MinusIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","PencilSquareIcon","PlusIcon","getBackgroundClass","length","OrgTreeView","tree","minimized","setMinimized","useState","divRef","useRef","jsxs","jsx","Fragment","LinkButton","XCircleIcon","Transition","_a","child","OrgIndex","parentNode","useManageLayoutData","children","PageHeader","pageTitle","className","variant","to","Outlet","ErrorBoundary","ErrorReport"],"mappings":"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","x_google_ignoreList":[0,1,2]}