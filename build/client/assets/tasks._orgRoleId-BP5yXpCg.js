import{r as a,a as F,j as e,O as I}from"./index-CGKE_yqd.js";import{L as D}from"./Buttons-PCh2vdNK.js";import{E as M}from"./ErrorReport-DufojM8E.js";import{b as A}from"./useMatchesData-C6FIMaQn.js";import"./index-CPe-BBEd.js";import{B as x}from"./Badge-ConyzQoo.js";import{U as Z}from"./constants-DpBRbtn9.js";import{R as B}from"./RichTextViewer-B6kyuz0s.js";import{b as O,a as z,L as g,u as P,A as $}from"./components-BktKjo96.js";import{F as V}from"./XCircleIcon-QcoNP_22.js";import{u as T,P as U}from"./usePagination-CoTN8wEl.js";import{F as k}from"./FunnelIcon-PJsZvo0E.js";import{r as p,I as w,g as b,E as j}from"./menu-Kf7Og-U5.js";import{z as v}from"./transition-DpAM4Mvv.js";import"./useGenerateSearchParams-DHzu1JTo.js";import"./node-B4O4sgZ3.js";import"./index-browser-BzJTmVxG.js";import"./index-BIjbdFWj.js";import"./ChevronRightIcon-C_P991sd.js";import"./calculate-active-index-B9zBCtTZ.js";import"./portal-5Px_MhHe.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new t.Error().stack;r&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[r]="11cd9314-16da-4c39-9d74-b5c4fd534121",t._sentryDebugIdIdentifier="sentry-dbid-11cd9314-16da-4c39-9d74-b5c4fd534121")}catch{}})();function W({title:t,titleId:r,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},s),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const H=a.forwardRef(W);function _({title:t,titleId:r,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},s),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const X=a.forwardRef(_);function q({title:t,titleId:r,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},s),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const G=a.forwardRef(q);function J({title:t,titleId:r,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},s),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5M12 17.25h8.25"}))}const y=a.forwardRef(J);function K({title:t,titleId:r,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},s),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Q=a.forwardRef(K);function Y({title:t,titleId:r,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},s),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ee=a.forwardRef(Y);function te({title:t,titleId:r,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},s),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 0 1 1.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.559.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 0 1-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.398.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 0 1-.12-1.45l.527-.737c.25-.35.272-.806.108-1.204-.165-.397-.506-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.108-1.204l-.526-.738a1.125 1.125 0 0 1 .12-1.45l.773-.773a1.125 1.125 0 0 1 1.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const re=a.forwardRef(te);function ae({title:t,titleId:r,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},s),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const se=a.forwardRef(ae);function le({title:t,titleId:r,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},s),t?a.createElement("title",{id:r},t):null,a.createElement("path",{fillRule:"evenodd",d:"M10 3c-4.31 0-8 3.033-8 7 0 2.024.978 3.825 2.499 5.085a3.478 3.478 0 0 1-.522 1.756.75.75 0 0 0 .584 1.143 5.976 5.976 0 0 0 3.936-1.108c.487.082.99.124 1.503.124 4.31 0 8-3.033 8-7s-3.69-7-8-7Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-2-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm5 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}const ne=a.forwardRef(le);function oe({title:t,titleId:r,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},s),t?a.createElement("title",{id:r},t):null,a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z",clipRule:"evenodd"}))}const ie=a.forwardRef(oe);function ce({title:t,titleId:r,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},s),t?a.createElement("title",{id:r},t):null,a.createElement("path",{fillRule:"evenodd",d:"M12.5 9.75A2.75 2.75 0 0 0 9.75 7H4.56l2.22 2.22a.75.75 0 1 1-1.06 1.06l-3.5-3.5a.75.75 0 0 1 0-1.06l3.5-3.5a.75.75 0 0 1 1.06 1.06L4.56 5.5h5.19a4.25 4.25 0 0 1 0 8.5h-1a.75.75 0 0 1 0-1.5h1a2.75 2.75 0 0 0 2.75-2.75Z",clipRule:"evenodd"}))}const de=a.forwardRef(ce);function me({title:t,titleId:r,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},s),t?a.createElement("title",{id:r},t):null,a.createElement("path",{d:"M5.75 7.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM5 10.25a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0ZM10.25 7.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM7.25 8.25a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0ZM8 9.5A.75.75 0 1 0 8 11a.75.75 0 0 0 0-1.5Z"}),a.createElement("path",{fillRule:"evenodd",d:"M4.75 1a.75.75 0 0 0-.75.75V3a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2V1.75a.75.75 0 0 0-1.5 0V3h-5V1.75A.75.75 0 0 0 4.75 1ZM3.5 7a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v4.5a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1V7Z",clipRule:"evenodd"}))}const N=a.forwardRef(me);function ue({title:t,titleId:r,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},s),t?a.createElement("title",{id:r},t):null,a.createElement("path",{fillRule:"evenodd",d:"M4 1.75a.75.75 0 0 1 1.5 0V3h5V1.75a.75.75 0 0 1 1.5 0V3a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2V1.75ZM4.5 6a1 1 0 0 0-1 1v4.5a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-7Z",clipRule:"evenodd"}))}const xe=a.forwardRef(ue);function fe(){const t=a.useContext(f),{orgRoleId:r}=F();if(O(),a.useEffect(()=>{t&&t.setFilterState("all")},[r]),!t)return"FilterSortMenu must be in a FilterSortContext Provider.";const s=n=>{t.setFilterState(n)},l=n=>{t.setSortState(n)};return e.jsxs("div",{className:"relative inline-flex gap-x-2 text-left",children:[e.jsxs(p,{as:"div",className:"inline-block text-left",children:[e.jsx("div",{className:"flex gap-3",children:e.jsx(w,{className:"inline-flex justify-center w-full rounded-md border border-gray-300 bg-white text-sm font-medium text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-gray-100",children:e.jsxs("div",{className:"flex text-md px-3 py-1",children:[e.jsx(k,{className:"size-5 mr-2"}),e.jsxs("span",{children:["Filter (",t.filterLabels[t.filterState].label,")"]})]})})}),e.jsx(v,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e.jsx(b,{className:"absolute left-0 w-44 mt-2 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:e.jsx("div",{className:"py-1",children:Object.keys(t.filterLabels).map(n=>e.jsx(j,{"data-selected":n===t.filterState?!0:null,children:e.jsx("button",{onClick:()=>s(n),className:"block w-full py-2 text-sm text-gray-700 data-[active]:bg-gray-200 data-[selected]:bg-primary-200",children:e.jsxs("div",{className:"flex items-center",children:[t.filterLabels[n].icon,t.filterLabels[n].label]})})},n))})})})]}),t.filteredItems.length>0&&e.jsxs(p,{as:"div",className:"inline-block text-left",children:[e.jsx("div",{className:"flex gap-3",children:e.jsx(w,{className:"inline-flex justify-center w-full rounded-md border border-gray-300 bg-white text-sm font-medium text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-gray-100",children:e.jsxs("div",{className:"flex text-md px-3 py-1",children:[e.jsx(H,{className:"size-5 mr-2"}),e.jsxs("span",{children:["Sort (",t.sortLabels[t.sortState].label||"Default",")"]})]})})}),e.jsx(v,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e.jsx(b,{anchor:"bottom start",className:"absolute left-0 w-44 mt-2 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:e.jsx("div",{className:"py-1",children:Object.keys(t.sortLabels).filter(n=>n!=="default").map(n=>e.jsx(j,{"data-selected":t.sortState===n?!0:null,children:e.jsx("button",{onClick:()=>l(n),className:"block w-full py-2 text-sm text-gray-700 data-[active]:bg-gray-200 data-[selected]:bg-primary-200",children:e.jsxs("div",{className:"flex items-center",children:[t.sortLabels[n].icon,t.sortLabels[n].label]})})},n))})})})]})]})}function he(t,r){let s=[];if(t&&t.length>0)switch(r){case"newOld":s=[...t.sort((l,n)=>new Date(n.createdAt).getTime()-new Date(l.createdAt).getTime())];break;case"oldNew":s=[...t.sort((l,n)=>new Date(l.createdAt).getTime()-new Date(n.createdAt).getTime())];break;case"AtoZ":s=[...t.sort((l,n)=>l.user.name.localeCompare(n.user.name))];break;case"ZtoA":s=[...t.sort((l,n)=>n.user.name.localeCompare(l.user.name))];break;default:s=[...t];break}return s}function ge(t){const r=a.useContext(f),{filterState:s,sortState:l,filterLabels:n,sortLabels:i,items:c,filteredItems:d,setFilteredItems:u}=r??{items:[],filterState:"all",sortState:"default",filterLabels:void 0,sortLabels:void 0,setFilterState:void 0,setSortState:void 0,filteredItems:[],setFilteredItems:void 0};return a.useEffect(()=>{if(c&&u){let o=[];switch(s){case"all":o=[...c];break;case"notCompleted":o=c.filter(m=>!m.isComplete);break;case"completed":o=c.filter(m=>m.isComplete);break;case"overdue":o=c.filter(m=>m.isOverdue);break}u(he(o,l)),t(!1)}},[c,s,l]),{filterState:r==null?void 0:r.filterState,sortState:r==null?void 0:r.sortState,filteredItems:r==null?void 0:r.filteredItems,setFilteredItems:r==null?void 0:r.setFilteredItems,sortLabels:i,filterLabels:n}}const f=a.createContext(null);function pe({items:t,children:r,labels:s}){const{sortByLabels:l,filterLabels:n}=s,[i,c]=a.useState("all"),[d,u]=a.useState("default"),[o,m]=a.useState([]);return e.jsx(f.Provider,{value:{filterState:i,sortState:d,filterLabels:n,sortLabels:l,items:t,setSortState:u,setFilterState:c,filteredItems:o,setFilteredItems:m},children:r})}const we=({unreadMessages:t,MessageComponent:r})=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute text-white bg-red-500 rounded-xl ${t<10?"px-[7px]":"px-[4.5px]"} ${t>=10?t>=100?"translate-x-[50%]":"translate-x-[80%]":"translate-x-[100%]"} translate-y-[-20%]`,children:t>0&&t}),e.jsx(r,{className:"size-10"})]}),be=({item:t,loggedInUserId:r})=>{const s=z(),l=new Date(t.createdAt),n=new Date(l);n.setDate(l.getDate()+30);const i=new Date(Date()),c=new Date;c.setDate(i.getDate()+30);const d=new Date;d.setDate(i.getDate()+14);const u=new Date;u.setDate(i.getDate()+5);let o="none";return t.isComplete||n<c&&n<d&&(n<u?n<i?o="danger":o="warning":o="primary"),e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"table-row border-b even:bg-zinc-50",children:[e.jsx("td",{className:"text-left pl-5 pr-3 py-2 min-w-[260px] max-w-[260px]",children:e.jsxs("div",{className:"grid gap-y-2",children:[e.jsxs("h4",{className:"font-bold text-lg line-clamp-1 break-all",children:[Z[t.user.rank].abb," ",t.user.name]}),e.jsx("div",{className:"text-sm",children:e.jsxs("div",{className:"flex justify-between items-center gap-x-2 px-2 border rounded-xl bg-gray-200",children:[e.jsx("p",{className:"text-center flex-1",children:t.user.org.abbreviation}),e.jsx("span",{className:"text-gray-400",children:"/"}),e.jsx("p",{className:"text-center flex-1",children:t.template.type})]})})]})}),e.jsx("td",{className:"w-[1px] pr-3",children:e.jsx("div",{className:"border-gray-200 border-x h-[4rem]"})}),e.jsxs("td",{className:"text-sm align-top py-3 pr-3 min-w-[500px]",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"line-clamp-1 leading-6 font-bold",children:t.templateItem.name}),e.jsxs("div",{className:"inline-flex justify-between items-center gap-x-2 text-sm",children:[!t.isComplete&&e.jsxs(e.Fragment,{children:[" ",e.jsxs(x,{variant:"none",className:"my-1",children:[e.jsx(xe,{className:"size-5 mr-1"}),"Started ",l.toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric"})]}),e.jsxs(x,{variant:o,className:"my-1",children:[e.jsx(N,{className:"size-5 mr-1"}),"Due ",n.toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric"})]})]}),t.isComplete&&e.jsx(e.Fragment,{children:e.jsxs(x,{variant:"green",className:"my-1",children:[e.jsx(N,{className:"size-5 mr-1"}),"Signed ",new Date(t.dateCompleted).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric"})]})})]})]}),e.jsx(B,{className:"line-clamp-2",children:t.templateItem.description})]}),e.jsx("td",{className:"w-[1px] pr-3",children:e.jsx("div",{className:"border-gray-200 border-x h-[4rem]"})}),e.jsx("td",{children:e.jsxs("div",{className:"flex gap-x-5 justify-between items-center mr-5",children:[e.jsxs("div",{className:"text-nowrap flex-grow text-center",children:[t.isComplete&&e.jsx(x,{variant:"green",children:"Complete"}),!t.isComplete&&t.userComplete&&e.jsx(x,{children:"Ready to Approve"}),!t.isComplete&&!t.userComplete&&e.jsx(x,{variant:"warning",children:"Awaiting Member"})]}),e.jsxs(s.Form,{method:"post",className:"",children:[e.jsx("input",{type:"hidden",name:"itemId",value:t.id}),e.jsx("input",{type:"hidden",name:"userId",value:r}),e.jsxs("div",{className:"flex shadow bg-white items-center justify-center justify-items-center rounded-xl divide-x border",children:[!t.isComplete&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"submit",name:"_action",value:"update",className:"px-2 py-1 text-green-400 rounded-l-xl hover:text-green-600 hover:cursor-pointer hover:bg-zinc-200",disabled:s.state!=="idle",children:[e.jsx(ie,{className:"size-10"}),e.jsx("span",{className:"sr-only",children:"Approve"})]}),t.userComplete&&e.jsxs(g,{to:`${t.id}/deny`,className:"px-2 py-1 text-red-400 hover:text-red-600 hover:cursor-pointer hover:bg-zinc-200",children:[e.jsx(V,{className:"size-10"}),e.jsx("span",{className:"sr-only",children:"Deny"})]})]}),t.isComplete&&e.jsxs("button",{type:"submit",name:"_action",value:"incomplete",className:"px-2 p-1 text-red-400 rounded-l-xl hover:text-red-600 hover:cursor-pointer h-12 hover:font-bolder hover:bg-zinc-200",disabled:s.state!=="idle",children:[e.jsx(de,{className:"size-8"}),e.jsx("span",{className:"sr-only",children:"Unsign"})]}),e.jsxs(g,{to:`${t.id}/comments`,className:"px-2 py-1 hover:text-primary-700 hover:drop-shadow text-primary-500 rounded-r-xl hover:bg-zinc-200",children:[e.jsx(we,{unreadMessages:t.commentCount,MessageComponent:ne}),e.jsx("span",{className:"sr-only",children:"Comments"})]})]})]})]})})]})})};function je({loggedInUserId:t}){const[r,s]=a.useState(!0),{filteredItems:l,filterState:n,sortState:i,filterLabels:c}=ge(s),{currentItems:d,currentPage:u,totalPages:o,setCurrentPage:m,nextPage:C,prevPage:R,itemPos:S,itemsPerPage:E,setItemsPerPage:L}=T(l??[],10);return a.useEffect(()=>{d&&d.length>0&&m(1)},[i,n]),r?e.jsxs("div",{className:"flex text-lg items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 size-6 text-zinc-900",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"mb-5",children:e.jsx(fe,{})}),(d==null?void 0:d.length)>0?e.jsxs("div",{children:[e.jsxs("table",{className:"table-auto w-full rounded-t-lg shadow-lg border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-600 text-zinc-800 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400",children:[e.jsx("th",{className:"text-left px-6 py-3 rounded-tl-lg",children:"Items"}),e.jsx("th",{}),e.jsx("th",{className:"text-left px-2 py-3 rounded-tl-lg"}),e.jsx("th",{}),e.jsx("th",{className:"text-center w-72 rounded-tr-lg"})]})}),e.jsx("tbody",{children:d.map(h=>e.jsx(be,{item:h,loggedInUserId:t},h.id))})]}),e.jsx(U,{currentPage:u,totalPages:o,setCurrentPage:m,nextPage:C,prevPage:R,itemsPerPage:E,setItemsPerPage:L,itemPos:S})]}):e.jsx("p",{className:"text-2xl font-bold",children:"No items to show."})]})}function ve(t){var r,s,l,n,i;return t.orgRole?e.jsx(e.Fragment,{children:((r=t.orgRole)==null?void 0:r.abbreviation)!=="USER"&&e.jsxs(D,{to:{pathname:`/tasks/${(s=t.orgRole)==null?void 0:s.roleId}/edit`,searchParams:{orgRole:(l=t.orgRole)==null?void 0:l.roleId}},className:"flex items-center gap-1",children:[e.jsx(re,{className:"w-6 h-6"}),((n=t.orgRole)==null?void 0:n.abbreviation)==="CSS"?t.orgRole.abbreviation:(i=t.orgRole)==null?void 0:i.name," ","Info"]})}):null}const ye={all:{label:"All",icon:e.jsx(k,{className:"ml-4 w-5 h-5 mr-2"})},notCompleted:{label:"Not Completed",icon:e.jsx(se,{className:"ml-4 w-5 h-5 mr-2"})},completed:{label:"Completed",icon:e.jsx(Q,{className:"ml-4 w-5 h-5 mr-2"})},overdue:{label:"Overdue",icon:e.jsx(ee,{className:"ml-4 w-5 h-5 mr-2"})}},Ne={default:{label:"",icon:""},newOld:{label:"Newest to Oldest",icon:e.jsx(y,{className:"ml-4 w-5 h-5 mr-2"})},oldNew:{label:"Oldest to Newest",icon:e.jsx(y,{className:"ml-4 w-5 h-5 mr-2 transform scale-y-[-1]"})},AtoZ:{label:"A to Z",icon:e.jsx(X,{className:"ml-4 w-5 h-5 mr-2"})},ZtoA:{label:"Z to A",icon:e.jsx(G,{className:"ml-4 w-5 h-5 mr-2"})}},He=()=>{const{items:t,orgRole:r}=P(),{id:s}=A("user");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between mb-5",children:[e.jsx("div",{children:r&&e.jsx("h1",{className:"text-2xl mb-3",children:r.name})}),e.jsx("div",{children:e.jsx(ve,{orgRole:r})})]}),e.jsx(a.Suspense,{fallback:e.jsx("p",{children:"Loading..."}),children:e.jsx($,{resolve:t,children:l=>e.jsx(pe,{items:l,labels:{sortByLabels:Ne,filterLabels:ye},children:e.jsx(je,{loggedInUserId:s})})})},r==null?void 0:r.uuid),e.jsx(I,{})]})},_e=M;export{_e as ErrorBoundary,He as default};
//# sourceMappingURL=tasks._orgRoleId-BP5yXpCg.js.map
