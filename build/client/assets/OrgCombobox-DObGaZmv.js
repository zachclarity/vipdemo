import{r,R as f,j as e,c as F}from"./index-CGKE_yqd.js";import"./index-CPe-BBEd.js";import{W as S,j as v,H as $,G as L,U as I,K as U}from"./combobox-ZyOtD84C.js";import{K as _,w as B,U as D,L as K,V as M}from"./portal-5Px_MhHe.js";import{K as z,h as Z,Q as H}from"./calculate-active-index-B9zBCtTZ.js";import{b as T}from"./components-BktKjo96.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new t.Error().stack;a&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[a]="6b25ffc2-3972-4627-bc45-41a2ff0c0e2c",t._sentryDebugIdIdentifier="sentry-dbid-6b25ffc2-3972-4627-bc45-41a2ff0c0e2c")}catch{}})();let q="div";function G(t,a){let l=`headlessui-control-${r.useId()}`,[n,i]=z(),[d,m]=B(),x=D(),{disabled:o=x||!1,...u}=t,c=r.useMemo(()=>({disabled:o}),[o]),g={ref:a,disabled:o||void 0,"aria-disabled":o||void 0},h=K();return f.createElement(M,{value:o},f.createElement(i,{value:n},f.createElement(m,{value:d},f.createElement(Z,{id:l},h({ourProps:g,theirProps:{...u,children:f.createElement(S,null,typeof u.children=="function"?u.children(c):u.children)},slot:c,defaultTag:q,name:"Field"})))))}let Q=_(G);function V({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const j=r.forwardRef(V);function W({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Y=r.forwardRef(W);function J({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{fillRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const y=r.forwardRef(J);function P({title:t,titleId:a,...l},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{fillRule:"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z",clipRule:"evenodd"}))}const X=r.forwardRef(P);function A({filteredOrgs:t}){const a=t.map(l=>e.jsx(v,{value:l,className:"divide-y divide-slate-500 group flex cursor-default data-[focus]:cursor-pointer items-center gap-2 rounded-lg select-none data-[focus]:bg-slate-900/10 data-[selected]:bg-blue-500/30",children:({selected:n})=>e.jsxs("div",{className:"flex items-center gap-2 p-4",children:[n?e.jsx(j,{className:"h-5 w-5"}):e.jsx(y,{className:"h-5 w-5"}),e.jsx("strong",{className:"text-slate-900 text-sm font-medium dark:text-slate-200",children:l.name})]})},l.uuid));return a.length>0?a:e.jsx("p",{className:"p-4 divide-y divide-slate-500 group flex cursor-default data-[focus]:cursor-pointer items-center gap-2 rounded-lg select-none data-[focus]:bg-slate-900/10 data-[selected]:bg-blue-500/30 text-slate-900 text-sm font-medium dark:text-slate-200",children:"No results"})}function k({tree:t,isCreateAccountPage:a}){var l,n,i;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative first:mt-0 last:mb-0 mb-2",children:[e.jsx("div",{className:"sticky top-0 px-4 py-3 flex items-center font-semibold text-sm text-slate-900 dark:text-slate-200 bg-slate-50/90 dark:bg-slate-700/90 border-0 border-slate-900/10 border-x-0 backdrop-blur-sm ring-0 ring-slate-900/10 dark:ring-black/10",children:t.name}),t.children&&t.children.length>0&&((l=t.children)==null?void 0:l.map(d=>!d||a&&d.isBase?null:e.jsx(v,{value:d,className:"rounded-lg divide-y divide-slate-500 group flex items-center select-none cursor-default data-[focus]:cursor-pointer data-[focus]:bg-slate-900/10 data-[selected]:bg-blue-500/30",children:({selected:m})=>e.jsxs("div",{className:"flex items-center gap-2 p-4",children:[m?e.jsx(j,{className:"h-5 w-5"}):e.jsx(y,{className:"h-5 w-5"}),e.jsx("strong",{className:"text-slate-900 text-sm font-medium dark:text-slate-200",children:d.name})]})},`${d.uuid}-combo-option`)))]}),t.children&&((n=t.children)==null?void 0:n.length)>0&&((i=t==null?void 0:t.children)==null?void 0:i.map(d=>!d||!d.children?null:e.jsx(k,{tree:d,isCreateAccountPage:a},`${d==null?void 0:d.uuid}-combo-tree`)))]})}function de({parentNode:t,selected:a,orgArray:l,navigateTo:n,isCreateAccountPage:i=!1,name:d,label:m="Change organization to manage:",onChange:x}){const[o,u]=r.useState(a),[c,g]=r.useState(""),h=F(),[ee,R]=T(),E=c!==""?l.filter(s=>s.name.toLowerCase().includes(c.toLowerCase())):[];function O(s,b){return`/org/${s}/${b}`}function C(s){if(s&&(x&&x({currentTarget:{name:"org",value:s.uuid}}),u(s),!i))if(n)h(O(s.uuid,n));else{const b=new URLSearchParams;b.set("org",s.uuid),R(b)}}let p="relative bg-white py-1.5 pl-3 pr-10 text-left text-slate-900 focus:outline-none focus:ring-indigo-500/20 sm:text-sm sm:leading-6 rounded-md border-slate-300 text-xs shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:cursor-not-allowed disabled:bg-gray-50",w="[--anchor-padding:0px] rounded-xl bg-gray-200 shadow-lg p-0 py-0 [--anchor-gap:4px] focus:outline-none transition-all duration-200 ease-out empty:invisible data-[closed]:-translate-y-10 data-[closed]:opacity-0",N="mx-auto text-sm font-bold mb-1 text-slate-800";return i?(p+=" w-full",w+=" w-[var(--input-width)] [--anchor-max-height:20rem]",N="mb-1 block text-sm font-medium text-gray-700"):(p+=" w-80",w+=" w-[calc(var(--input-width)+10rem)] [--anchor-max-height:50rem]"),e.jsxs(Q,{className:"flex flex-col",children:[e.jsx(H,{className:N,children:m}),e.jsxs($,{immediate:!0,value:o,onChange:C,by:"id",onClose:()=>g(""),children:[e.jsxs("div",{className:"relative",children:[e.jsx(L,{displayValue:s=>s==null?void 0:s.name,onChange:s=>g(s.target.value),className:p}),e.jsx(I,{className:"group absolute inset-y-0 right-0 px-2.5 border-l border-l-slate-300",children:({open:s})=>e.jsxs(e.Fragment,{children:[s&&e.jsx(X,{className:"size-4 fill-slate-900","aria-hidden":"true"}),!s&&e.jsx(Y,{className:"size-4 fill-slate-900","aria-hidden":"true"})]})})]}),e.jsxs(U,{anchor:{to:i?"bottom start":"bottom end"},transition:!0,className:w,children:[c===""&&e.jsxs(e.Fragment,{children:[!i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"sticky top-0 px-4 py-3 flex items-center font-semibold text-sm text-slate-900 dark:text-slate-200 bg-slate-50/90 dark:bg-slate-700/90 border-0 border-slate-900/10 border-x-0 backdrop-blur-sm ring-0 ring-slate-900/10 dark:ring-black/10",children:"Your Organization"}),e.jsx(v,{value:t,className:"rounded-lg divide-y divide-slate-500 group flex items-center select-none cursor-default data-[focus]:cursor-pointer data-[focus]:bg-slate-900/10 data-[selected]:bg-blue-500/30",children:({selected:s})=>e.jsxs("div",{className:"flex items-center gap-2 p-4",children:[s?e.jsx(j,{className:"h-5 w-5"}):e.jsx(y,{className:"h-5 w-5"}),e.jsx("strong",{className:"text-slate-900 text-sm font-medium dark:text-slate-200",children:t.name})]})})]}),e.jsx(k,{tree:t,isCreateAccountPage:i})]}),c!==""&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"sticky top-0 px-4 py-3 flex items-center font-semibold text-sm text-slate-900 dark:text-slate-200 bg-slate-50/90 dark:bg-slate-700/90 border-0 border-slate-900/10 border-x-0 backdrop-blur-sm ring-0 ring-slate-900/10 dark:ring-black/10",children:"Results:"}),e.jsx(A,{filteredOrgs:E})]})]})]})]})}export{de as O};
//# sourceMappingURL=OrgCombobox-DObGaZmv.js.map
