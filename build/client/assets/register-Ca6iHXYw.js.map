{"version":3,"file":"register-Ca6iHXYw.js","sources":["../../../app/routes/_auth+/register.tsx"],"sourcesContent":["import ErrorReport from '@components/ui/ErrorReport';\nimport RegisterForm from '@components/ui/forms/RegisterForm';\nimport type { ActionFunctionArgs} from '@remix-run/node';\nimport { json } from '@remix-run/node';\nimport { Link, useLoaderData } from '@remix-run/react';\nimport { getRootDescendants, getRootTree } from '@routes/_withNav+/_withSideBar+/_manage+/.server/manage.queries';\nimport {\n  getOrgs, registerUserActionFn,\n} from './register.queries.server';\n\n\nexport const loader = async () => {\n  const orgs = await getOrgs();\n  const parentNode = await getRootTree();\n  const orgFlatArray = await getRootDescendants();\n  return json({ orgs, parentNode, orgFlatArray }, {\n    headers: {\n      'X-Frame-Options': 'SAMEORIGIN',\n      'Content-Security-Policy': 'frame-ancestors: none',\n    },\n  });\n};\n\nexport async function action({ request }: ActionFunctionArgs) {\n  return registerUserActionFn(request, '/login');\n}\n\nconst AccountRegister = () => {\n  const { orgs, parentNode, orgFlatArray } = useLoaderData<typeof loader>();\n\n  return (\n    <main className=\"container mx-auto h-full p-5\">\n      <div className=\"flex gap-x-4 flex-col items-center\">\n        <Link to=\"/login\" className=\"hover:underline underline-offset-2 border-0 border-zinc-300 rounded-lg px-3 py-2 hover:bg-zinc-200\">Back to Login</Link>\n      </div>\n      <h1 className=\"text-2xl text-gray-900\">\n        Register for an account\n      </h1>\n      <RegisterForm orgs={orgs} btnAction=\"create\" registerOrCreate=\"register\" orgParentNode={parentNode} orgFlatArray={orgFlatArray} />\n    </main>\n  );\n};\n\nexport const ErrorBoundary = ErrorReport;\nexport default AccountRegister;\n"],"names":["AccountRegister","orgs","parentNode","orgFlatArray","useLoaderData","jsxs","className","children","jsx","Link","to","RegisterForm","btnAction","registerOrCreate","orgParentNode","ErrorBoundary","ErrorReport"],"mappings":"i/BA2BMA,MAAAA,EAAkBA,IAAM,CAC5B,KAAM,CAAEC,KAAAA,EAAMC,WAAAA,EAAYC,aAAAA,GAAiBC,EAA6B,EAGtE,OAAAC,EAAAA,KAAC,OAAK,CAAAC,UAAU,+BACdC,SAAA,CAACC,EAAA,IAAA,MAAA,CAAIF,UAAU,qCACbC,SAACC,EAAA,IAAAC,EAAA,CAAKC,GAAG,SAASJ,UAAU,qGAAqGC,SAAA,eAAa,CAAA,CAChJ,CAAA,EACCC,EAAA,IAAA,KAAA,CAAGF,UAAU,yBAAyBC,SAEvC,yBAAA,CAAA,EACAC,EAAA,IAACG,GAAaV,KAAAA,EAAYW,UAAU,SAASC,iBAAiB,WAAWC,cAAeZ,EAAYC,aAAAA,CAA4B,CAAA,CAAA,CAClI,CAAA,CAEJ,EAEaY,EAAgBC"}