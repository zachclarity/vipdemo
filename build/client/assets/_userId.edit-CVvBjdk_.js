import{a as S,r as R,j as e}from"./index-CGKE_yqd.js";import{F as n}from"./Form-BWeMqzJc.js";import{I as a}from"./Input-qJnTyjxU.js";import{L as i}from"./Label-CFKSeKuq.js";import"./index-CPe-BBEd.js";import{E as A}from"./ErrorReport-DufojM8E.js";import{M as u}from"./Modal-BilbC_tq.js";import{U as l}from"./constants-DpBRbtn9.js";import{u as C}from"./useIsAdmin-eViB238r.js";import{b as D}from"./useMatchesData-C6FIMaQn.js";import{b as F,u as z}from"./components-BktKjo96.js";import{F as I}from"./TrashIcon-D1ZZhErm.js";import{z as O}from"./transition-DpAM4Mvv.js";import"./index-BIjbdFWj.js";import"./node-B4O4sgZ3.js";import"./Buttons-PCh2vdNK.js";import"./useGenerateSearchParams-DHzu1JTo.js";import"./dialog-cts_RZz3.js";import"./portal-5Px_MhHe.js";import"./active-element-history-2tBiaAce.js";import"./index-browser-BzJTmVxG.js";(function(){try{var d=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},m=new d.Error().stack;m&&(d._sentryDebugIds=d._sentryDebugIds||{},d._sentryDebugIds[m]="fdd12d34-7f30-4cf6-8240-3fc6a909653c",d._sentryDebugIdIdentifier="sentry-dbid-fdd12d34-7f30-4cf6-8240-3fc6a909653c")}catch{}})();const re=()=>{var h,x,j,b,v,g,w;const{userId:d}=S(),[m]=F(),f=m.get("org")??"",{user:r,orgs:y,allUsers:o}=z(),k=D("roles"),{isAdmin:N}=C(k),[c,p]=R.useState(!1),E=s=>{const t=s.target.value;p(t!=="default")};return r.supervisorId&&!c&&p(!0),e.jsx(u,{children:e.jsxs(n,{method:"post",children:[e.jsx(a.Hidden,{name:"_navigateOrgId",value:f}),e.jsx(a.Hidden,{name:"userId",value:d}),e.jsxs(u.Body,{children:[e.jsx(n.Row,{className:"flex justify-between",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700 mr-1",children:"Assigned Unit:"}),(h=r.currentOrg)==null?void 0:h.name]})}),e.jsxs(n.Row,{children:[e.jsx(i,{htmlFor:"name",children:"Name"}),e.jsx(a.Text,{name:"name",defaultValue:r==null?void 0:r.name})]}),e.jsxs(n.Row,{children:[e.jsx(i,{htmlFor:"workEmail",children:"Email"}),e.jsx(a.Email,{name:"workEmail",defaultValue:r==null?void 0:r.workEmail,pattern:"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"})]}),e.jsx(O,{show:N,children:e.jsxs(n.Row,{children:[e.jsx(i,{htmlFor:"assignedOrg",children:"Assigned Organization"}),e.jsx(a.Select,{options:y,name:"assignedOrg",valueKey:"uuid",defaultValue:(x=r.currentOrg)==null?void 0:x.uuid})]})}),e.jsxs(n.Row,{children:[e.jsx(i,{children:e.jsxs("div",{className:"inline-flex",children:[r.supervisorId?"Assigned Supervisor":"Assign Supervisor",(!c||r.supervisorId)&&e.jsx("p",{className:"text-red-600",children:"Â  *"})]})}),r.supervisorId?e.jsxs("div",{className:"flex border w-full p-1 justify-between rounded-md shadow-md",children:[e.jsxs("div",{className:"flex pt-1 pl-2",children:[e.jsx("p",{className:"pr-1 ",children:l[(j=o.find(s=>s.id===r.supervisorId))==null?void 0:j.rank].abb}),e.jsx("p",{className:"px-1",children:(b=o.find(s=>s.id===r.supervisorId))==null?void 0:b.name})]}),e.jsx("button",{name:"_action",value:"deleteSuper",className:"inline-flex text-red-700 p-1 items-center cursor-pointer w-full justify-center drop-shadow-none rounded-md text-sm font-semibold hover:bg-red-200 hover:drop-shadow sm:mt-0 sm:w-auto",children:e.jsx(e.Fragment,{children:e.jsx(I,{className:"size-6","aria-hidden":"true"})})})]}):e.jsx(a.Select,{options:o.filter(s=>s.id!==r.id).filter(s=>s.currentOrgId===r.currentOrgId).filter(s=>l[s.rank].order>4).sort((s,t)=>s.name.localeCompare(t.name)).map(s=>({id:s.id,name:`${l[s.rank].abb} ${s.name}`})),name:"supervisorId",valueKey:"id",defaultValue:"",onChange:s=>E(s)})]}),e.jsxs(n.Row,{children:[e.jsx(i,{children:r.sponsorId?"Assigned Sponsor":"Assign Sponsor"}),r.sponsorId?e.jsxs("div",{className:"flex border w-full p-1 justify-between rounded-md shadow-md",children:[e.jsxs("div",{className:"flex pt-1 pl-2",children:[e.jsx("p",{className:"pr-1 ",children:l[(v=o.find(s=>s.id===r.sponsorId))==null?void 0:v.rank].abb}),e.jsx("p",{className:"px-1",children:(g=o.find(s=>s.id===r.sponsorId))==null?void 0:g.name})]}),e.jsx("button",{name:"_action",value:"deleteSponsor",className:"inline-flex text-red-700 p-1 items-center cursor-pointer w-full justify-center drop-shadow-none rounded-md text-sm font-semibold hover:bg-red-200 hover:drop-shadow sm:mt-0 sm:w-auto",children:e.jsx(I,{className:"size-6","aria-hidden":"true"})})]}):e.jsx(a.Select,{options:o.map(s=>({id:s.id,name:`${l[s.rank].abb} ${s.name}`})).sort((s,t)=>s.name.split(" ").slice(1).join(" ").localeCompare(t.name.split(" ").slice(1).join(" "))),name:"sponsorsId",valueKey:"id",defaultValue:r.sponsorId?(w=o.find(s=>s.id===r.sponsorId))==null?void 0:w.name:""})]}),e.jsxs(n.Row,{children:[e.jsx(i.Heading,{children:"Questions"}),e.jsxs(a.CheckboxGroup,{children:[e.jsx(a.Checkbox,{name:"isDormResident",defaultChecked:r.isDormResident??!1,label:"Is the member a dorm resident?"}),e.jsx(a.Checkbox,{name:"hasDependents",defaultChecked:r.hasDependents??!1,label:"Does the member currently have any dependents?"}),e.jsx(a.Checkbox,{name:"hasEFMP",defaultChecked:r.hasEFMP??!1,label:"Is the member currently enrolled in the EFMP?"})]})]})]}),e.jsx(u.Buttons,{link:"..",value:"edit",disabled:!c,children:r.cssVerified?"Save":"Verify & Save"})]})})},ae=A;export{ae as ErrorBoundary,re as default};
//# sourceMappingURL=_userId.edit-CVvBjdk_.js.map
