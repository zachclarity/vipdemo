import{r as n,j as e}from"./index-CGKE_yqd.js";import{a as h,L as m}from"./Buttons-PCh2vdNK.js";import{E as u}from"./ErrorReport-DufojM8E.js";import{P as p}from"./PageHeader-CJHXJ8gE.js";import{i}from"./index-browser-BzJTmVxG.js";import{I as f}from"./Input-qJnTyjxU.js";import"./index-CPe-BBEd.js";import{B as l}from"./Badge-ConyzQoo.js";import{u as x,a as w}from"./components-BktKjo96.js";import{F as j}from"./CloudArrowDownIcon-Bbm9IOXs.js";import{F as b}from"./DocumentCheckIcon-pLHUno9b.js";import{F as g}from"./EyeIcon-Pt1cX6bN.js";import"./useGenerateSearchParams-DHzu1JTo.js";import"./node-B4O4sgZ3.js";import"./Headers-XYTgFKcz.js";import"./useMatchesData-C6FIMaQn.js";import"./OrgCombobox-DObGaZmv.js";import"./combobox-ZyOtD84C.js";import"./calculate-active-index-B9zBCtTZ.js";import"./portal-5Px_MhHe.js";import"./active-element-history-2tBiaAce.js";import"./index-BIjbdFWj.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new t.Error().stack;a&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[a]="5d422b20-78f5-4bd5-849d-16c9f7d6531a",t._sentryDebugIdIdentifier="sentry-dbid-5d422b20-78f5-4bd5-849d-16c9f7d6531a")}catch{}})();function k({title:t,titleId:a,...o},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},o),t?n.createElement("title",{id:a},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const v=n.forwardRef(k);function y({title:t,titleId:a,...o},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},o),t?n.createElement("title",{id:a},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 7.5h-.75A2.25 2.25 0 0 0 4.5 9.75v7.5a2.25 2.25 0 0 0 2.25 2.25h7.5a2.25 2.25 0 0 0 2.25-2.25v-7.5a2.25 2.25 0 0 0-2.25-2.25h-.75m0-3-3-3m0 0-3 3m3-3v11.25m6-2.25h.75a2.25 2.25 0 0 1 2.25 2.25v7.5a2.25 2.25 0 0 1-2.25 2.25h-7.5a2.25 2.25 0 0 1-2.25-2.25v-.75"}))}const N=n.forwardRef(y),C=t=>{const a=["Name","Status","Type","Checklist Progress","Last Updated"],o=t.map(r=>{const s=new Date(r.checklist.updatedAt).toDateString(),c=r.checklist.status===i.ChecklistStatus.Archived?"Archived":r.checklist.status===i.ChecklistStatus.InProgress?"In Progress":r.checklist.status===i.ChecklistStatus.Paused?"Paused":"",d=Math.round(r.checklist.count.completedItems/r.checklist.count.totalItems*100);return[r.name,c,r.checklist.template.type,`${d}%`,s].join(",")});return[a.join(","),...o].join(`
`)},A=(t,a="checklist.csv")=>{const o=C(t),r=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(r),c=document.createElement("a");c.setAttribute("href",s),c.setAttribute("download",a),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)},J=()=>{const{archived:t,completed:a,orgBeingViewed:o}=x(),r=w();return e.jsxs(e.Fragment,{children:[e.jsx(p,{org:o,pageTitle:"Completed/Archived Checklists",navigateTo:"completed"}),t.length>0||a.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full flex justify-end",children:e.jsxs("button",{type:"button",onClick:()=>A(t),className:"inline-flex justify-right px-4 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white",children:[e.jsx(j,{className:"w-5 h-5 mr-2"}),"Export"]})}),e.jsxs("table",{className:"text-left table-auto w-full border-neutral-300 border-1",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-black",children:[e.jsx("th",{}),e.jsx("th",{className:"text-left",children:"Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Type"}),e.jsx("th",{className:"text-center",children:"Checklist Progress"}),e.jsx("th",{className:"w-56",children:"Last Updated"}),e.jsx("th",{className:"pl-6 w-56",children:"Actions"})]})}),e.jsx("tbody",{children:[...t,...a].sort((s,c)=>(s.name??"").localeCompare(c.name??"")).map(s=>{const c=new Date(s.checklist.updatedAt).toDateString();return e.jsxs("tr",{className:"table-row border-b even:bg-zinc-50",children:[e.jsx("td",{className:"w-5 px-2",children:s.checklist.status===i.ChecklistStatus.Archived?e.jsx(v,{className:"h-5 w-5"}):e.jsx(b,{className:"h-5 w-5"})}),e.jsx("td",{className:"py-2",children:s.name}),e.jsx("td",{children:s.checklist.status===i.ChecklistStatus.Archived?e.jsx(l,{variant:"warning",children:"Archived"}):e.jsx(l,{variant:"green",children:"Completed"})}),e.jsx("td",{children:s.checklist.template.type}),e.jsxs("td",{className:"text-center",children:[Math.round(s.checklist.count.completedItems/s.checklist.count.totalItems*100),"%"]}),e.jsx("td",{children:c}),e.jsx("td",{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(r.Form,{method:"POST",children:[e.jsx(f.Hidden,{name:"itemId",value:s.checklist.id}),s.checklist.status===i.ChecklistStatus.Archived?e.jsx(h,{type:"submit",value:"resume",name:"_action",className:"flex justify-center text-black items-center w-12",title:"Unarchive Checklist",children:e.jsx(N,{className:"h-5 w-5"})}):e.jsx("div",{className:"w-12"})]}),e.jsx(m,{to:`/org/${o.uuid}/inprocess/${s.checklist.id}/view`,className:"flex justify-center items-center w-12",title:"View Checklist",children:e.jsx(g,{className:"h-5 w-5"})})]})})]},s.id)})})]})]}):"No members to show."]})},K=u;export{K as ErrorBoundary,J as default};
//# sourceMappingURL=org_._orgId.completed-BWC13DQf.js.map
