{"version":3,"file":"role._roleId.edit-DAlk79NC.js","sources":["../../../app/routes/_withNav+/_withSideBar+/_manage+/role.$roleId.edit.tsx"],"sourcesContent":["import { Form, Label } from '@components/ui';\nimport ErrorReport from '@components/ui/ErrorReport';\nimport { Input } from '@components/ui/Input';\nimport { Modal } from '@components/ui/modals';\nimport { Attribute } from '@lib/utils';\nimport type { LoaderFunctionArgs } from '@remix-run/node';\nimport { json } from '@remix-run/node';\nimport { useLoaderData } from '@remix-run/react';\nimport { requireUserAsObject } from '@services/user.server';\nimport React from 'react';\nimport { getOrgRoleWithUsers } from './.server/role.queries';\n\nexport { roleEditActionFunction as action } from './.server/role.queries';\n\nexport const loader = async ({ params, request }: LoaderFunctionArgs) => {\n  const { id: userId } = await requireUserAsObject(request, {\n    permissions: Attribute.ORGROLES_READWRITE,\n  });\n\n  const { roleId } = params;\n  if (!roleId) throw json({ status: 'error', error: 'roleId is required.' }, 500);\n  if (!userId) throw json({ status: 'error', error: 'user id is required.' }, 500);\n\n  const orgRole = await getOrgRoleWithUsers(roleId);\n\n  return json({\n    orgRole,\n  });\n};\n\nconst EditRoleDefaultPage = () => {\n  const { orgRole } = useLoaderData<typeof loader>();\n\n  return (\n    <Modal>\n      <Form method=\"post\">\n        <div className=\"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4 mb-5\">\n          <Modal.Title>\n            Edit Organization Role{' '}\n            <p className=\"text-lg\">{orgRole.role.name}</p>\n          </Modal.Title>\n          <Input.Hidden name=\"orgRoleId\" value={orgRole.uuid} />\n          <Input.Hidden name=\"_action\" value=\"edit\" />\n          <Form.Row>\n            <Label htmlFor=\"contactPhone\">Phone:</Label>\n            <Input.Text\n              name=\"contactPhone\"\n              defaultValue={orgRole.contactPhone}\n              required/>\n          </Form.Row>\n          <Form.Row>\n            <Label htmlFor=\"contactEmail\">Email:</Label>\n            <Input.Email\n              name=\"contactEmail\"\n              defaultValue={orgRole.contactEmail} />\n          </Form.Row>\n        </div>\n        <Modal.Buttons link=\"..\" value=\"edit\">\n          Save\n        </Modal.Buttons>\n      </Form>\n    </Modal>\n  );\n};\nexport const ErrorBoundary = ErrorReport;\nexport default EditRoleDefaultPage;\n"],"names":["EditRoleDefaultPage","orgRole","useLoaderData","jsx","Modal","children","jsxs","Form","method","className","Title","role","name","Input","Hidden","value","uuid","Row","Label","htmlFor","Text","defaultValue","contactPhone","required","Email","contactEmail","Buttons","link","ErrorBoundary","ErrorReport"],"mappings":"k4BA8BMA,MAAAA,EAAsBA,IAAM,CAC1B,KAAA,CAAEC,QAAAA,CAAQ,EAAIC,EAA6B,EAEjD,OACGC,EAAAA,IAAAC,EAAA,CACCC,SAACC,EAAA,KAAAC,EAAA,CAAKC,OAAO,OACXH,SAAA,CAACC,EAAA,KAAA,MAAA,CAAIG,UAAU,8CACbJ,SAAA,CAACC,EAAAA,KAAAF,EAAMM,MAAN,CAAYL,SAAA,CAAA,yBACY,UACtB,IAAE,CAAAI,UAAU,UAAWJ,SAAAJ,EAAQU,KAAKC,IAAK,CAAA,CAAA,EAC5C,EACAT,EAAAA,IAACU,EAAMC,OAAN,CAAaF,KAAK,YAAYG,MAAOd,EAAQe,KAAM,QACnDH,EAAMC,OAAN,CAAaF,KAAK,UAAUG,MAAM,OAAO,EAC1CT,EAAAA,KAACC,EAAKU,IAAL,CACCZ,SAAA,CAACF,EAAA,IAAAe,EAAA,CAAMC,QAAQ,eAAed,SAAM,SAAA,EACpCF,EAAAA,IAACU,EAAMO,KAAN,CACCR,KAAK,eACLS,aAAcpB,EAAQqB,aACtBC,SAAQ,EAAA,CAAA,CAAA,EACZ,EACAjB,EAAAA,KAACC,EAAKU,IAAL,CACCZ,SAAA,CAACF,EAAA,IAAAe,EAAA,CAAMC,QAAQ,eAAed,SAAM,SAAA,EACpCF,EAAAA,IAACU,EAAMW,MAAN,CACCZ,KAAK,eACLS,aAAcpB,EAAQwB,YAAA,CAAc,CAAA,CACxC,CAAA,CAAA,EACF,EACAtB,EAAAA,IAACC,EAAMsB,QAAN,CAAcC,KAAK,KAAKZ,MAAM,OAAOV,SAEtC,MAAA,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAEJ,EACauB,EAAgBC"}