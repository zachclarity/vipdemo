import{r as n,j as e,O as w}from"./index-CGKE_yqd.js";import{A as g,a as m}from"./ActionMenu-CK4m5dbz.js";import{L as h}from"./Buttons-PCh2vdNK.js";import{E as k}from"./ErrorReport-DufojM8E.js";import{P as y}from"./PageHeader-CJHXJ8gE.js";import{T as p}from"./Table-DHblAk8H.js";import{a as b,b as M}from"./useMatchesData-C6FIMaQn.js";import{u as E}from"./useIsAdmin-eViB238r.js";import{T as L,U as R}from"./constants-DpBRbtn9.js";import"./index-CPe-BBEd.js";import{u as N}from"./components-BktKjo96.js";import{F as C}from"./PlayIcon-vjgFCN-l.js";import{F as I}from"./ArchiveBoxArrowDownIcon-BBydAvWc.js";import"./useGenerateSearchParams-DHzu1JTo.js";import"./menu-Kf7Og-U5.js";import"./calculate-active-index-B9zBCtTZ.js";import"./portal-5Px_MhHe.js";import"./node-B4O4sgZ3.js";import"./Headers-XYTgFKcz.js";import"./OrgCombobox-DObGaZmv.js";import"./combobox-ZyOtD84C.js";import"./active-element-history-2tBiaAce.js";import"./index-browser-BzJTmVxG.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new t.Error().stack;r&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[r]="ac34c254-11bb-495b-9f0c-ff5232c6c832",t._sentryDebugIdIdentifier="sentry-dbid-ac34c254-11bb-495b-9f0c-ff5232c6c832")}catch{}})();function $({title:t,titleId:r,...a},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"}))}const P=n.forwardRef($);function A({title:t,titleId:r,...a},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const B=n.forwardRef(A);function F({title:t,titleId:r,...a},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5V6.75a4.5 4.5 0 1 1 9 0v3.75M3.75 21.75h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H3.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const T=n.forwardRef(F);function z({title:t,titleId:r,...a},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},a),t?n.createElement("title",{id:r},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 9v6m-4.5 0V9M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const _=n.forwardRef(z);function D({user:t,isAdmin:r,orgBeingViewed:a}){const o=n.useMemo(()=>t._count.checklists>0,[t._count.checklists]),d=n.useMemo(()=>t.checklists.find(c=>{var i;return((i=c.template)==null?void 0:i.type)===t.moveType}),[t.checklists,t.moveType]);return e.jsx(p.Row,{item:t,children:e.jsx(p.ButtonCell,{className:"flex justify-end",children:e.jsxs(g,{children:[e.jsx(m,{text:"Manage Account",url:`${t.id}/edit`}),t.moveType||o?e.jsx(e.Fragment,{children:o?d&&e.jsx(m,{text:"View Checklist",url:`/org/${a.uuid}/inprocess/${d==null?void 0:d.id}/view`}):e.jsx(m,{text:"Edit Move",url:`${t.id}/move/edit`})}):e.jsx(m,{text:"Start Move",url:{pathname:`${t.id}/move/start`,searchParams:{type:"PCS"}}}),r&&e.jsx(m,{text:"Delete User Account",type:"danger",url:`${t.id}/delete`})]})})},t.id)}function O({alt:t,...r}){return e.jsxs("svg",{...r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t&&e.jsx("title",{children:t}),e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"}),e.jsx("path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"}),e.jsx("path",{d:"M9 12l.01 0"}),e.jsx("path",{d:"M13 12l2 0"}),e.jsx("path",{d:"M9 16l.01 0"}),e.jsx("path",{d:"M13 16l2 0"})]})}const de=()=>{const{users:t}=N(),{orgBeingViewed:r}=b(),a=M("roles"),{isAdmin:o}=E(a),d=[{header:"",key:"",width:L.W_40,render:(c,i)=>{const x=i._count.checklists>0,u=!x&&!!i.moveType,l=i.checklists.find(j=>{var f;return((f=j.template)==null?void 0:f.type)===i.moveType});function v(){if(!l)return null;switch(l.status){case"Paused":return{variant:"amber",Icon:e.jsx(_,{className:"size-5"})};case"Locked":return{variant:"red",Icon:e.jsx(T,{className:"size-5"})};case"InProgress":return{variant:void 0,Icon:e.jsx(O,{className:"size-5"})};case"Completed":return{variant:"green",Icon:e.jsx(B,{className:"size-5"})};case"Archived":return{variant:"purple",Icon:e.jsx(I,{className:"size-5"})}}return null}const s=v();return e.jsxs("div",{className:"text-nowrap text-center",children:[x&&l&&e.jsxs("div",{className:"flex items-center justify-center w-full gap-2",children:[e.jsxs(h,{variant:s==null?void 0:s.variant,title:s==null?void 0:s.text,className:"flex items-center justify-center gap-1 text-xs",to:`/org/${r.uuid}/inprocess/${l==null?void 0:l.id}/view`,children:[s==null?void 0:s.Icon,l.template.type]}),e.jsx("p",{className:"text-center",children:(s==null?void 0:s.text)??""})]}),u&&e.jsxs(h,{title:"Pending Move",variant:"amber",className:"inline-flex items-center gap-1 text-xs",to:`${i.id}/move/edit`,children:[e.jsx(P,{className:"size-5",title:"Pending Move"}),"Edit Move"]}),!u&&!x&&e.jsxs(h,{title:"Pending Move",variant:"green",className:"inline-flex items-center gap-1 text-xs",to:{pathname:`${i.id}/move/start`,searchParams:{type:"PCS"}},children:[e.jsx(C,{className:"size-5",title:"Pending Move"}),"Start Move"]})]})}},{header:"Rank",key:"rank",width:"w-24",textAlign:"text-center",render:c=>e.jsx("div",{className:"text-right",children:R[c].abb})},{header:"Name",key:"name"},{header:"Email",key:"workEmail"}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-5",children:[e.jsx(y,{org:r,pageTitle:"Manage Accounts"}),e.jsxs("div",{children:[t.length>0&&e.jsxs(p,{cells:d,children:[e.jsx(p.HeaderRow,{}),e.jsx(p.Body,{children:t.sort((c,i)=>c.name.localeCompare(i.name)).map(c=>e.jsx(D,{user:c,isAdmin:o,orgBeingViewed:r},c.id))})]}),t.length===0&&e.jsx("p",{children:"No Users found."})]})]}),e.jsx(w,{})]})},me=k;export{me as ErrorBoundary,de as default};
//# sourceMappingURL=_layout-BnnSZlnv.js.map
