import{r as s,j as e}from"./index-CGKE_yqd.js";import{B as w}from"./Breadcrumbs-BIMwwxZu.js";import"./index-CPe-BBEd.js";import{E as O}from"./ErrorReport-DufojM8E.js";import{I as d,a as o,T as S,b as k}from"./Input-qJnTyjxU.js";import{M as l}from"./Modal-BilbC_tq.js";import{a as D}from"./useMatchesData-C6FIMaQn.js";import{u as C}from"./useIsAdmin-eViB238r.js";import{u as E,a as T}from"./components-BktKjo96.js";import"./node-B4O4sgZ3.js";import"./index-BIjbdFWj.js";import"./Buttons-PCh2vdNK.js";import"./useGenerateSearchParams-DHzu1JTo.js";import"./dialog-cts_RZz3.js";import"./portal-5Px_MhHe.js";import"./active-element-history-2tBiaAce.js";import"./transition-DpAM4Mvv.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new t.Error().stack;a&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[a]="44c7a307-15fb-46ed-bd13-0e4117b38039",t._sentryDebugIdIdentifier="sentry-dbid-44c7a307-15fb-46ed-bd13-0e4117b38039")}catch{}})();const F=t=>typeof t=="string"?t.trim().length>2:!1,X=()=>{const{org:t,ancestors:a,userRoles:m}=E(),[i,p]=s.useState(!1),[u,b]=s.useState(t.isWingLevel),{parentNode:c}=D(),[h,f]=s.useState(""),[x,v]=s.useState(t.name),g=T(),{isAdmin:j}=C(m),y=r=>{v(r.target.value)};return e.jsx(l,{children:e.jsxs(g.Form,{onSubmit:r=>{r.preventDefault();const n=new FormData(r.currentTarget);for(let[I,N]of n.entries())n.set(I,N.toString().trim());console.log(n),console.log(r.currentTarget),g.submit(n,{method:"POST"})},children:[e.jsxs("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4 mb-5",children:[e.jsx(l.Title,{children:"Edit Organization:"}),!t.isBase&&c.uuid!==t.uuid&&e.jsxs(e.Fragment,{children:[e.jsx(d.Checkbox,{label:"Relocate Org?",name:"moveOrg",checked:i,onChange:()=>p(!i)}),i&&e.jsxs(e.Fragment,{children:[e.jsxs(o,{className:"pb-0",children:[e.jsx(w,{tree:c,setNewParent:f,ancestors:a,orgId:t.uuid}),e.jsx("input",{type:"hidden",value:h,name:"newParent"})]}),e.jsx(o,{children:e.jsx("input",{type:"hidden",value:t.parentOrgId??"",name:"currentParent"})})]}),j&&e.jsx(d.Checkbox,{label:"Is Wing-level Org?",name:"isWingLevel",checked:u,onChange:()=>b(!u)})]}),e.jsxs(o,{children:[e.jsx("input",{type:"hidden",name:"orgId",value:t.uuid}),e.jsx(d.TextWithValidation,{id:"orgName",name:"orgName",label:"New Name:",validationFn:F,value:x,onChange:y,validationMsg:"Name requires at least 3 characters"})]}),e.jsxs(o,{children:[e.jsx(S,{htmlFor:"abbreviation",children:"Abbreviation:"}),e.jsx(k,{name:"abbreviation",defaultValue:t.abbreviation})]})]}),e.jsx(l.Buttons,{link:"/org",value:"edit",children:"Save"})]})})},Y=O;export{Y as ErrorBoundary,X as default};
//# sourceMappingURL=org._orgId.edit-CNG5lzZr.js.map
