{"version":3,"file":"template_._templateId-BSBWEXUc.js","sources":["../../../app/routes/_withNav+/_withSideBar+/_manage+/template_.$templateId.tsx"],"sourcesContent":["import { DeleteButton, LinkButton } from '@components/ui/Buttons';\nimport ErrorReport from '@components/ui/ErrorReport';\nimport { RichTextView } from '@components/ui/RichText/Viewer';\nimport type { ChecklistType } from '@lib/constants';\nimport { Attribute, isPrismaKnownError } from '@lib/utils';\nimport { Prisma } from '@prisma/client';\nimport type { ActionFunction, LoaderFunctionArgs } from '@remix-run/node';\nimport { json } from '@remix-run/node';\nimport { Outlet, useFetcher, useLoaderData, useParams } from '@remix-run/react';\nimport { requireUser, requireUserAsObject } from '@services/user.server';\nimport React, { useEffect, useState } from 'react';\nimport { AuthorizationError } from 'remix-auth';\nimport { jsonWithError, jsonWithSuccess } from 'remix-toast';\nimport z, { ZodError } from 'zod';\nimport {\n  deleteTemplateItem,\n  getInheritedChecklistItems,\n  getTemplateWithItems,\n} from './.server/template.queries';\nimport { ChevronLeftIcon, ChevronRightIcon } from '@heroicons/react/24/outline';\nimport { ChevronDownIcon, ChevronUpIcon } from '@heroicons/react/24/solid';\nimport { getOrgBeingViewed } from './.server/org.queries';\nimport useMatchesData, { useManageLayoutData } from '@lib/hooks/useMatchesData';\n\n// TODO: Errors in this loader should throw not be added to an array\nexport const loader = async ({ params, request }: LoaderFunctionArgs) => {\n  const { currentOrg: org } = await requireUserAsObject(request, {\n    permissions: Attribute.TEMPLATES_READWRITE,\n  });\n  const errors: { message: string }[] = [];\n  const { templateId } = params;\n  if (!templateId) throw new Error('templateId is required');\n\n  \n  const currentSelectedTemplate = await getTemplateWithItems(templateId);\n\n  currentSelectedTemplate.items.sort((a, b) => {\n    if (a.reference === null && b.reference !== null) {\n      return 1;\n    } else if (a.reference !== null && b.reference === null) {\n      return -1;\n    } else {\n      return 0;\n    }\n  });\n\n  let inheritedItems;\n  if (org.id && currentSelectedTemplate?.type !== undefined) {\n    inheritedItems = await getInheritedChecklistItems(\n      currentSelectedTemplate.organizationId,\n      currentSelectedTemplate?.type as ChecklistType\n    );\n  } else {\n    errors.push({ message: 'No org id specified' });\n  }\n\n  inheritedItems?.reverse();\n  return json({ template: currentSelectedTemplate, inheritedItems, errors });\n};\n\nexport const action: ActionFunction = async ({ request }) => {\n  const deleteItemSchema = z.object({\n    id: z.string(),\n    _action: z.string().regex(/delete/),\n  });\n  try {\n    await requireUser(request, {\n      permissions: Attribute.TEMPLATES_READWRITE,\n      options: {\n        redirectOnFailure: false,\n      },\n    });\n\n    const { id } = deleteItemSchema.parse(\n      Object.fromEntries(await request.formData())\n    );\n\n    await deleteTemplateItem(id);\n    return jsonWithSuccess({ status: 'success' }, 'Item Deleted!');\n  } catch (e) {\n    console.error(e);\n    if (e instanceof Error) {\n      if (e instanceof AuthorizationError) {\n        return jsonWithError(\n          { status: 'error', error: 'Authorization Error.' },\n          'User is not authorized.'\n        );\n      }\n      if (e instanceof ZodError) {\n        return jsonWithError(\n          {\n            status: 'error',\n            message: 'There was a validation error',\n            issues: e.issues,\n          },\n          'There was an error.'\n        );\n      } else if (\n        e instanceof Prisma.PrismaClientKnownRequestError &&\n        isPrismaKnownError(e)\n      ) {\n        if (e.code === 'P2003')\n          return jsonWithError(\n            {\n              status: 'error',\n              message:\n                'There are still items linked to this template item. Delete the items first before deleting the template.',\n            },\n            'There are still items linked to the template.'\n          );\n      }\n      return jsonWithError(\n        { status: 'error', message: e.message },\n        'There was an error.'\n      );\n    }\n  }\n};\n\nconst ITEMS_PER_PAGE = 10;\n\nexport default function TemplateDetailsView() {\n  const { templateId: checklistId } = useParams();\n  const { template, inheritedItems, errors } = useLoaderData<typeof loader>();\n  const deleteFetcher = useFetcher();\n  const { orgBeingViewed } = useManageLayoutData();\n\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const totalPages = Math.ceil(template?.items.length / ITEMS_PER_PAGE);\n  const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;\n  const endIndex = startIndex + ITEMS_PER_PAGE;\n  const itemsToShow = template?.items.slice(startIndex, endIndex);\n\n  useEffect(() => {\n    if (itemsToShow.length === 0 && currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  }, [itemsToShow.length, currentPage]);\n\n  const goToPrevPage = () => {\n    setCurrentPage(currentPage - 1);\n  };\n  const goToNextPage = () => {\n    setCurrentPage(currentPage + 1);\n  };\n\n  const toggleExpand = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  return (\n    <>\n      <LinkButton className=\"my-5\" variant=\"gray\" to={`/template`}>\n        Back\n      </LinkButton>\n      <div className=\"flex border-b border-gray-200 pb-5 my-5 items-center justify-between\">\n        <div>\n          <div className=\"flex items-baseline\">\n            {/* <h1 className=\"text-2xl font-bold\">Template</h1> */}\n            {/* <p className=\"ml-1.5\">for {template.name}</p> */}\n            <h1 className=\"text-2xl font-bold\">{template.name}</h1>\n            <p className=\"ml-1.5 text-2xl font-bold\">Template</p>\n          </div>\n          <div className=\"max-h-[10.75rem] overflow-y-auto\">\n            <RichTextView>{template.description}</RichTextView>\n          </div>\n        </div>\n        <div>\n          <LinkButton className=\"mx-3\" variant=\"green\" to={`item/create`}>\n            Create New Item\n          </LinkButton>\n          <LinkButton to={`/template/${checklistId}/edit`}>Edit</LinkButton>\n        </div>\n      </div>\n\n      <section className=\"\">\n        {template?.items.length > 0 ? (\n          <>\n            <table className=\"text-left w-[1fr] rounded-t-lg shadow-lg border-collapse\">\n              <thead>\n                <tr className=\"border-b border-zinc-600 text-zinc-800 uppercase bg-zinc-100 dark:bg-zinc-700 dark:text-zinc-400\">\n                  <th className=\"w-72 px-6 py-3 rounded-tl-lg\">Name</th>\n                  <th className=\"py-3\">Description</th>\n                  <th className=\"text-center px-2\">Dorm</th>\n                  <th className=\"text-center px-2\">EFMP</th>\n                  <th className=\"text-center px-2\">Dependents</th>\n                  <th></th>\n                  <th className=\"rounded-tr-lg\"></th>\n                </tr>\n              </thead>\n              <tbody>\n                {itemsToShow.map((item) => (\n                  <tr\n                    key={item.id}\n                    className=\"table-row border-b even:bg-zinc-50\">\n                    <td className=\"py-4 px-6 align-middle line-clamp-2\">\n                      <div className=\"flex items-center\">\n                        <p className=\"line-clamp-2\">\n                          {item.reference ? item.reference.name : item.name}\n                        </p>\n                      </div>\n                    </td>\n                    <td className=\"pr-5\">\n                      <div>\n                        <RichTextView className=\"line-clamp-2 w-[35vw]\">\n                          {item.description === ''\n                            ? item.reference?.description\n                            : item.description}\n                        </RichTextView>\n                      </div>\n                    </td>\n                    <td className=\"text-center border-x border-zinc-400\">\n                      {item.forDormResidents ? '\\u2714' : '\\u2716'}\n                    </td>\n                    <td className=\"text-center border-x border-zinc-400\">\n                      {item.forHasEFMP ? '\\u2714' : '\\u2716'}\n                    </td>\n                    <td className=\"text-center border-x border-zinc-400\">\n                      {item.forHasDependents ? '\\u2714' : '\\u2716'}\n                    </td>\n                    <td className=\"text-right pl-5\">\n                      <LinkButton\n                        to={`/template/${checklistId}/item/${item.uuid}/edit`}\n                        variant=\"gray\">\n                        Edit\n                      </LinkButton>\n                    </td>\n                    <td className=\"pr-5\">\n                      {!item.referenceId && (\n                        <deleteFetcher.Form\n                          method=\"post\"\n                          className=\"inline ml-3\">\n                          <input type=\"hidden\" name=\"id\" value={item.uuid} />\n                          <DeleteButton\n                            name=\"_action\"\n                            value=\"delete\"\n                            type=\"submit\">\n                            Delete\n                          </DeleteButton>\n                        </deleteFetcher.Form>\n                      )}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n            {/* If you want to edit the total items shown per page ctrl + f \"ITEMS_PER_PAGE\"*/}\n            <div className=\"flex justify-center mt-5\">\n              <nav aria-label=\"Pagination\">\n                <ul className=\"flex space-x-2\">\n                  {currentPage > 1 && (\n                    <li className=\"flex\">\n                      <button\n                        onClick={goToPrevPage}\n                        disabled={currentPage === 1}\n                        className={`inline-flex items-center space-x-2 rounded-full border border-gray-300 bg-white p-3 font-medium text-black hover:bg-gray-50 ${\n                          currentPage === 1 ? 'cursor-not-allowed' : ''\n                        }`}>\n                        <ChevronLeftIcon className=\"stroke-black w-5 h-5\" />\n                      </button>\n                    </li>\n                  )}\n                  <li>\n                    <span className=\"inline-flex items-center space-x-1 rounded-md bg-white px-4 py-2 text-black text-lg\">\n                      Page <b className=\"mx-1\">{currentPage}</b> of{' '}\n                      <b className=\"ml-1\">{totalPages}</b>\n                    </span>\n                  </li>\n                  {currentPage < totalPages && (\n                    <li className=\"flex\">\n                      <button\n                        onClick={goToNextPage}\n                        disabled={currentPage === totalPages}\n                        className={`inline-flex items-center space-x-2 rounded-full border border-gray-300 bg-white p-3 font-medium text-black hover:bg-gray-50 ${\n                          currentPage === totalPages ? 'cursor-not-allowed' : ''\n                        }`}>\n                        <ChevronRightIcon className=\"stroke-black w-5 h-5\" />\n                      </button>\n                    </li>\n                  )}\n                </ul>\n              </nav>\n            </div>\n          </>\n        ) : (\n          'No items to view. Please use the Create button to add tasks.'\n        )}\n      </section>\n      {inheritedItems && inheritedItems.length > 0 && (\n        <>\n          <hr className=\"my-8 h-px border-0 bg-gray-300\" />\n          <section className=\"border mt-5 rounded\">\n            <div\n              className=\"flex items-center justify-between text-xl font-bold py-1 px-4 hover:cursor-pointer hover:bg-zinc-300 w-full bg-zinc-100 rounded shadow\"\n              onClick={toggleExpand}>\n              <h1>Inherited Items</h1>\n              {isExpanded ? (\n                <ChevronUpIcon className=\"size-8\" />\n              ) : (\n                <ChevronDownIcon className=\"size-8\" />\n              )}\n            </div>\n            {isExpanded && (\n              <ul>\n                {inheritedItems.map(({ name, items, owningOrg }, index) => {\n                  return (\n                    <li\n                      key={`${name}-${index}`}\n                      className=\"mx-3 my-4 first:mt-0\">\n                      <h3 className=\"text-lg font-bold py-3\">{name}</h3>\n                      {items.length > 0 ? (\n                        <div className=\"w-full border border-zinc-300 py-2 rounded-lg shadow-lg text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400\">\n                          {items.map((item) => (\n                            <div\n                              className=\"flex gap-4 items-center w-full justify-between pt-3 even:bg-slate-100 pl-5 border-b last:border-b-0 border-b-1\"\n                              key={item.uuid}>\n                              <div className=\"w-full\">\n                                <h4 className=\"font-medium text-gray-900 whitespace-nowrap dark:text-white\">\n                                  {item.reference\n                                    ? item.reference.name\n                                    : item.name}\n                                </h4>\n                                <div className=\"line-clamp-2 my-4 pr-4 w-full\">\n                                  <RichTextView>\n                                    {item.description === ''\n                                      ? item.reference?.description\n                                      : item.description}\n                                  </RichTextView>\n                                </div>\n                              </div>\n                              <div className=\"pr-3 flex-none\">\n                                {/* <button className=\"border border-2 \">Add to template</button> */}\n                                {/* <LinkButton\n                                  className=\"mx-3\"\n                                  variant=\"green\"\n                                  to=\"item/create\">\n                                  Move to Template\n                                </LinkButton> */}\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      ) : (\n                        'No items to inherit.'\n                      )}\n                    </li>\n                  );\n                })}\n              </ul>\n            )}\n          </section>\n        </>\n      )}\n\n      <Outlet />\n    </>\n  );\n}\nexport const ErrorBoundary = ErrorReport;\n"],"names":["ITEMS_PER_PAGE","TemplateDetailsView","templateId","checklistId","useParams","template","inheritedItems","errors","useLoaderData","deleteFetcher","useFetcher","useManageLayoutData","isExpanded","setIsExpanded","useState","currentPage","setCurrentPage","totalPages","Math","ceil","items","length","startIndex","endIndex","itemsToShow","slice","useEffect","goToPrevPage","goToNextPage","toggleExpand","jsxs","Fragment","children","jsx","LinkButton","className","variant","to","name","RichTextView","description","map","item","reference","forDormResidents","forHasEFMP","forHasDependents","uuid","referenceId","Form","method","type","value","DeleteButton","id","onClick","disabled","ChevronLeftIcon","ChevronRightIcon","ChevronUpIcon","ChevronDownIcon","owningOrg","index","Outlet","ErrorBoundary","ErrorReport"],"mappings":"w1BAuHA,MAAMA,EAAiB,GAEvB,SAAwBC,GAAsB,CAC5C,KAAM,CAAEC,WAAYC,CAAY,EAAIC,EAAU,EACxC,CAAEC,SAAAA,EAAUC,eAAAA,EAAgBC,OAAAA,GAAWC,EAA6B,EACpEC,EAAgBC,EAAW,EACNC,EAAoB,EAE/C,KAAM,CAACC,EAAYC,CAAa,EAAIC,EAAAA,SAAS,EAAK,EAE5C,CAACC,EAAaC,CAAc,EAAIF,EAAAA,SAAS,CAAC,EAC1CG,EAAaC,KAAKC,MAAKd,GAAAA,YAAAA,EAAUe,MAAMC,QAASrB,CAAc,EAC9DsB,GAAcP,EAAc,GAAKf,EACjCuB,EAAWD,EAAatB,EACxBwB,EAAcnB,GAAAA,YAAAA,EAAUe,MAAMK,MAAMH,EAAYC,GAEtDG,EAAAA,UAAU,IAAM,CACVF,EAAYH,SAAW,GAAKN,EAAc,GAC5CC,EAAeD,EAAc,CAAC,CAE/B,EAAA,CAACS,EAAYH,OAAQN,CAAW,CAAC,EAEpC,MAAMY,EAAeA,IAAM,CACzBX,EAAeD,EAAc,CAAC,CAChC,EACMa,EAAeA,IAAM,CACzBZ,EAAeD,EAAc,CAAC,CAChC,EAEMc,EAAeA,IAAM,CACzBhB,EAAc,CAACD,CAAU,CAC3B,EAEA,OAEIkB,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SAAA,CAAAC,EAAA,IAACC,GAAWC,UAAU,OAAOC,QAAQ,OAAOC,GAAI,YAAaL,SAE7D,MAAA,CAAA,EACAF,EAAA,KAAC,MAAI,CAAAK,UAAU,uEACbH,SAAA,CAAAF,EAAA,KAAC,MACC,CAAAE,SAAA,CAACF,EAAA,KAAA,MAAA,CAAIK,UAAU,sBAGbH,SAAA,CAAAC,EAAA,IAAC,KAAG,CAAAE,UAAU,qBAAsBH,SAAA3B,EAASiC,IAAK,CAAA,EACjDL,EAAA,IAAA,IAAA,CAAEE,UAAU,4BAA4BH,SAAQ,UAAA,CAAA,CAAA,CACnD,CAAA,EACAC,EAAA,IAAC,OAAIE,UAAU,mCACbH,eAACO,EAAc,CAAAP,SAAA3B,EAASmC,WAAY,CAAA,CACtC,CAAA,CAAA,CACF,CAAA,SACC,MACC,CAAAR,SAAA,CAAAC,EAAA,IAACC,GAAWC,UAAU,OAAOC,QAAQ,QAAQC,GAAI,cAAeL,SAEhE,iBAAA,CAAA,QACCE,EAAW,CAAAG,GAAI,aAAalC,CAAW,QAAS6B,SAAI,MAAA,CAAA,CAAA,CACvD,CAAA,CAAA,CACF,CAAA,EAEAC,EAAA,IAAC,WAAQE,UAAU,GAChBH,2BAAUZ,MAAMC,QAAS,EAEtBS,EAAA,KAAAC,WAAA,CAAAC,SAAA,CAACF,EAAA,KAAA,QAAA,CAAMK,UAAU,2DACfH,SAAA,CAAAC,EAAA,IAAC,QACC,CAAAD,SAAAF,EAAA,KAAC,KAAG,CAAAK,UAAU,mGACZH,SAAA,CAACC,EAAA,IAAA,KAAA,CAAGE,UAAU,+BAA+BH,SAAI,MAAA,CAAA,EAChDC,EAAA,IAAA,KAAA,CAAGE,UAAU,OAAOH,SAAW,aAAA,CAAA,EAC/BC,EAAA,IAAA,KAAA,CAAGE,UAAU,mBAAmBH,SAAI,MAAA,CAAA,EACpCC,EAAA,IAAA,KAAA,CAAGE,UAAU,mBAAmBH,SAAI,MAAA,CAAA,EACpCC,EAAA,IAAA,KAAA,CAAGE,UAAU,mBAAmBH,SAAU,YAAA,CAAA,QAC1C,KAAG,CAAA,CAAA,EACJC,EAAAA,IAAC,KAAG,CAAAE,UAAU,eAAgB,CAAA,CAAA,CAChC,CAAA,CACF,CAAA,EACCF,EAAA,IAAA,QAAA,CACED,SAAYR,EAAAiB,IAAKC,GAChBZ,OAAAA,OAAAA,EAAAA,KAAC,KAAA,CAECK,UAAU,qCACVH,SAAA,CAAAC,EAAA,IAAC,MAAGE,UAAU,sCACZH,eAAC,MAAI,CAAAG,UAAU,oBACbH,SAACC,EAAA,IAAA,IAAA,CAAEE,UAAU,eACVH,SAAAU,EAAKC,UAAYD,EAAKC,UAAUL,KAAOI,EAAKJ,IAC/C,CAAA,CACF,CAAA,CACF,CAAA,QACC,KAAG,CAAAH,UAAU,OACZH,SAACC,EAAA,IAAA,MAAA,CACCD,eAACO,EAAa,CAAAJ,UAAU,wBACrBH,SAAKU,EAAAF,cAAgB,IAClBE,EAAAA,EAAKC,YAALD,YAAAA,EAAgBF,YAChBE,EAAKF,WACX,CAAA,CACF,CAAA,CACF,CAAA,QACC,KAAG,CAAAL,UAAU,uCACXH,SAAKU,EAAAE,iBAAmB,IAAW,GACtC,CAAA,QACC,KAAG,CAAAT,UAAU,uCACXH,SAAKU,EAAAG,WAAa,IAAW,GAChC,CAAA,QACC,KAAG,CAAAV,UAAU,uCACXH,SAAKU,EAAAI,iBAAmB,IAAW,GACtC,CAAA,EACAb,EAAA,IAAC,KAAG,CAAAE,UAAU,kBACZH,SAAAC,EAAA,IAACC,EAAA,CACCG,GAAI,aAAalC,CAAW,SAASuC,EAAKK,IAAI,QAC9CX,QAAQ,OAAOJ,SAAA,MAEjB,CAAA,CACF,CAAA,QACC,KAAG,CAAAG,UAAU,OACXH,SAAA,CAACU,EAAKM,aACLlB,EAAAA,KAACrB,EAAcwC,KAAd,CACCC,OAAO,OACPf,UAAU,cACVH,SAAA,CAAAC,EAAA,IAAC,SAAMkB,KAAK,SAASb,KAAK,KAAKc,MAAOV,EAAKK,IAAM,CAAA,EACjDd,EAAA,IAACoB,EAAA,CACCf,KAAK,UACLc,MAAM,SACND,KAAK,SAASnB,SAAA,QAAA,CAEhB,CAAA,CACF,CAAA,CAEJ,CAAA,CAAA,CAAA,EAhDKU,EAAKY,EAiDZ,EACD,CACH,CAAA,CAAA,CACF,CAAA,EAEArB,EAAA,IAAC,MAAI,CAAAE,UAAU,2BACbH,SAAAC,EAAA,IAAC,MAAI,CAAA,aAAW,aACdD,SAAAF,EAAA,KAAC,KAAG,CAAAK,UAAU,iBACXH,SAAA,CAAAjB,EAAc,GACbkB,EAAAA,IAAC,KAAG,CAAAE,UAAU,OACZH,SAAAC,EAAA,IAAC,SAAA,CACCsB,QAAS5B,EACT6B,SAAUzC,IAAgB,EAC1BoB,UAAW,+HACTpB,IAAgB,EAAI,qBAAuB,EAC7C,GACAiB,SAAAC,EAAA,IAACwB,EAAgB,CAAAtB,UAAU,sBAAuB,CAAA,CACpD,CAAA,CACF,CAAA,EAEDF,EAAA,IAAA,KAAA,CACCD,SAACF,EAAA,KAAA,OAAA,CAAKK,UAAU,sFAAsFH,SAAA,CAAA,QAC9FC,EAAA,IAAA,IAAA,CAAEE,UAAU,OAAQH,SAAYjB,CAAA,CAAA,EAAI,MAAI,IAC7CkB,EAAAA,IAAA,IAAA,CAAEE,UAAU,OAAQH,SAAWf,CAAA,CAAA,CAAA,CAClC,CAAA,CACF,CAAA,EACCF,EAAcE,GACZgB,EAAAA,IAAA,KAAA,CAAGE,UAAU,OACZH,SAAAC,EAAA,IAAC,SAAA,CACCsB,QAAS3B,EACT4B,SAAUzC,IAAgBE,EAC1BkB,UAAW,+HACTpB,IAAgBE,EAAa,qBAAuB,EACtD,GACAe,SAAAC,EAAA,IAACyB,EAAiB,CAAAvB,UAAU,sBAAuB,CAAA,CACrD,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CAAA,CACF,EAEA,8DAEJ,CAAA,EACC7B,GAAkBA,EAAee,OAAS,GAEvCS,EAAA,KAAAC,WAAA,CAAAC,SAAA,CAACC,EAAA,IAAA,KAAA,CAAGE,UAAU,gCAAiC,CAAA,EAC/CL,EAAA,KAAC,UAAQ,CAAAK,UAAU,sBACjBH,SAAA,CAAAF,EAAA,KAAC,MAAA,CACCK,UAAU,yIACVoB,QAAS1B,EACTG,SAAA,CAAAC,EAAA,IAAC,MAAGD,SAAe,kBAAA,EAClBpB,QACE+C,EAAc,CAAAxB,UAAU,SAAS,EAElCF,EAAA,IAAC2B,EAAgB,CAAAzB,UAAU,QAAS,CAAA,CAAA,EAExC,EACCvB,GACEqB,EAAA,IAAA,KAAA,CACED,SAAe1B,EAAAmC,IAAI,CAAC,CAAEH,KAAAA,EAAMlB,MAAAA,EAAOyC,UAAAA,CAAU,EAAGC,IAE7ChC,EAAAA,KAAC,KAAA,CAECK,UAAU,uBACVH,SAAA,CAACC,EAAA,IAAA,KAAA,CAAGE,UAAU,yBAA0BH,SAAKM,CAAA,CAAA,EAC5ClB,EAAMC,OAAS,EACbY,EAAAA,IAAA,MAAA,CAAIE,UAAU,4HACZH,SAAAZ,EAAMqB,IAAKC,GACVZ,OAAAA,OAAAA,EAAAA,KAAC,MAAA,CACCK,UAAU,iHAEVH,SAAA,CAACF,EAAA,KAAA,MAAA,CAAIK,UAAU,SACbH,SAAA,CAACC,EAAA,IAAA,KAAA,CAAGE,UAAU,8DACXH,SAAAU,EAAKC,UACFD,EAAKC,UAAUL,KACfI,EAAKJ,IACX,CAAA,EACCL,EAAA,IAAA,MAAA,CAAIE,UAAU,gCACbH,eAACO,EACE,CAAAP,SAAAU,EAAKF,cAAgB,IAClBE,EAAAA,EAAKC,YAALD,YAAAA,EAAgBF,YAChBE,EAAKF,WACX,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACAP,EAAA,IAAC,MAAI,CAAAE,UAAU,gBAQf,CAAA,CAAA,CAAA,EAvBKO,EAAKK,IAwBZ,EACD,CACH,CAAA,EAEA,sBAAA,CAAA,EApCG,GAAGT,CAAI,IAAIwB,CAAK,EAsCvB,CAEH,CACH,CAAA,CAAA,CAEJ,CAAA,CAAA,EACF,QAGDC,EAAO,EAAA,CAAA,CACV,CAAA,CAEJ,CACO,MAAMC,EAAgBC"}