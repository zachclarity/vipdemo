import{r as l,j as e,O as u}from"./index-CGKE_yqd.js";import{L as b}from"./Buttons-PCh2vdNK.js";import{E as x}from"./ErrorReport-DufojM8E.js";import{P as g}from"./PageHeader-CJHXJ8gE.js";import"./index-CPe-BBEd.js";import{S as h}from"./_layout-rmiLl5aX.js";import{u as j,b as w}from"./components-BktKjo96.js";import"./useGenerateSearchParams-DHzu1JTo.js";import"./node-B4O4sgZ3.js";import"./Headers-XYTgFKcz.js";import"./useMatchesData-C6FIMaQn.js";import"./OrgCombobox-DObGaZmv.js";import"./combobox-ZyOtD84C.js";import"./calculate-active-index-B9zBCtTZ.js";import"./portal-5Px_MhHe.js";import"./active-element-history-2tBiaAce.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i=new t.Error().stack;i&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[i]="bf483de5-35d2-4a0f-8c6c-b3dc49e137bb",t._sentryDebugIdIdentifier="sentry-dbid-bf483de5-35d2-4a0f-8c6c-b3dc49e137bb")}catch{}})();const E=({searchContext:t,initialUserList:i})=>{const{searchQuery:o}=l.useContext(t),[s,c]=l.useState([...i]),[n,m]=l.useState("NONE"),[p,a]=l.useState(s),d=r=>{var f;return r.workEmail.toLowerCase().includes(o.toLowerCase())||((f=r.name)==null?void 0:f.toLowerCase().includes(o.toLowerCase()))};return l.useEffect(()=>{i&&c([...i])},[i]),l.useEffect(()=>{switch(n){case"NONE":a(o===""?()=>[...s]:()=>[...s.filter(d)]);break;case"VERIFIED":a(o===""?()=>[...s.filter(r=>r.cssVerified!==null)]:()=>[...s.filter(r=>r.cssVerified!==null).filter(d)]);break;case"UNVERIFIED":a(o===""?()=>[...s.filter(r=>r.cssVerified===null)]:()=>[...s.filter(r=>r.cssVerified===null).filter(d)]);break}},[o,n,s]),{filteredUsers:p,filter:n,setFilter:m}},A=()=>{const{users:t,orgBeingViewed:i,currentUser:o}=j(),[s]=w();s.get("org");const{filteredUsers:c}=E({searchContext:h,initialUserList:t});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-5",children:[e.jsx(g,{org:i,pageTitle:"Assign Template"}),e.jsxs("div",{className:"mb-5",children:[c.length>0&&e.jsx("ul",{children:c.map(n=>e.jsxs("li",{className:"flex flex-wrap justify-between items-center p-2 border-b border-b-1 border-black even:bg-zinc-50",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-lg flex",children:[n.name,n.id===o.id&&e.jsx("span",{className:"font-normal text-xs rounded-xl bg-blue-500 text-white px-3 py-[0.15rem] ml-1 self-center",children:"You"})]}),e.jsxs("p",{children:["Checklists Assigned: ",n._count.checklists]})]}),e.jsx(b,{variant:"green",to:`/template/assign/${n.id}`,children:"Manage Checklists"})]},`template-${n.id}`))}),c.length===0&&e.jsx("p",{children:"No Users found."})]})]}),e.jsx(u,{})]})},B=x;export{B as ErrorBoundary,A as default};
//# sourceMappingURL=template_.assign-BAPspNWC.js.map
