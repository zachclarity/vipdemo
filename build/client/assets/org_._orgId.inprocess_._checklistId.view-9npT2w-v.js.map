{"version":3,"file":"org_._orgId.inprocess_._checklistId.view-9npT2w-v.js","sources":["../../../node_modules/@heroicons/react/24/outline/esm/LockClosedIcon.js","../../../node_modules/@heroicons/react/24/solid/esm/CheckIcon.js","../../../app/routes/_withNav+/_withSideBar+/_manage+/org_.$orgId.inprocess_.$checklistId.view.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction LockClosedIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(LockClosedIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckIcon);\nexport default ForwardRef;","import { Badge } from '@components/ui/Badge';\nimport { Button } from '@components/ui/Buttons';\nimport ErrorReport from '@components/ui/ErrorReport';\nimport { CalendarDaysIcon, CheckIcon, ClockIcon } from '@heroicons/react/24/solid';\nimport { Attribute } from '@lib/utils';\nimport type { LoaderFunctionArgs } from '@remix-run/node';\nimport { json } from '@remix-run/node';\nimport { useLoaderData, useNavigate } from '@remix-run/react';\nimport { requireUserAsObject } from '@services/user.server';\nimport { getUserChecklist } from './.server/org.queries';\nimport { RichTextView } from '@components/ui/RichText/Viewer';\nimport { StartTimer, DatabaseUpdatedIcon, SolidCheckmark } from '@components/ui/Icons';\nimport { ChecklistItemStatus, ChecklistStatus } from '@prisma/client';\nimport { ArchiveBoxArrowDownIcon, CheckCircleIcon, LockClosedIcon, PauseIcon } from '@heroicons/react/24/outline';\n\nfunction StatusBadge({status}: {status: ChecklistStatus}) {\n  switch (status) {\n    case 'Paused':\n      return <Badge className=\"gap-1 pr-3.5\" variant=\"warning\"><PauseIcon className=\"size-5\"/>Paused</Badge>;\n    case 'Locked':\n      return <Badge className=\"gap-1\" variant=\"danger\"><LockClosedIcon className=\"size-5\"/>Locked</Badge>;\n    case 'InProgress':\n      return <Badge className=\"gap-1\" variant=\"primary\">In-Progress</Badge>;\n    case 'Completed':\n      return <Badge className=\"gap-1\" variant=\"green\"><SolidCheckmark className=\"size-5\"/>Completed</Badge>;\n    case 'Archived':\n      return <Badge className=\"gap-1\" variant=\"warning\"><ArchiveBoxArrowDownIcon className=\"size-5\"/>Archived</Badge>;\n  }\n}\n\nexport const loader = async ({ request, params }: LoaderFunctionArgs) => {\n  await requireUserAsObject(request, {\n    permissions: [Attribute.MOVES_READ, Attribute.CHECKLISTS_READ],\n  });\n\n  const { orgId, checklistId } = params;\n  \n  if (!orgId || !checklistId)\n    throw new Error('org and checklist ids are required.');\n\n  const { user, ...checklist } = await getUserChecklist(checklistId);\n\n  return json({ user, checklist });\n};\n\nconst MemberChecklist = () => {\n  const { user, checklist } = useLoaderData<typeof loader>();\n  const navigate = useNavigate();\n\n  const dueDate = new Date(checklist.createdAt);\n  dueDate.setDate(dueDate.getDate() + 30);\n\n  const completedCount = checklist.items.filter(\n    (item) => item.isComplete\n  ).length;\n  const totalCount = checklist.items.length;\n\n  return (\n    <>\n      <Button onClick={() => navigate(-1)}>Back</Button>\n\n      <div className=\"grid grid-cols-2 mb-5\">\n        <div className=\"flex gap-4 items-center\">\n          <h1 className=\"text-2xl my-5\">{user.name}'s Checklist</h1>\n          <StatusBadge status={checklist.status}></StatusBadge>\n        </div>\n        <div>\n          <h1 className=\"text-2xl my-5 text-right\">\n            {completedCount} out of {totalCount} tasks completed\n          </h1>\n        </div>\n        <div className=\"flex gap-4 col-span-2\">\n          <div className=\"inline-flex items-center gap-1 text-nowrap\">\n            <StartTimer className=\"size-6\" title=\"Date Started\" />\n            {new Date(checklist.createdAt).toDateString()}\n          </div>\n          <div className=\"inline-flex items-center gap-1.5 text-nowrap\">\n            <CalendarDaysIcon title=\"Due Date\" className=\"size-6\" />\n            {dueDate.toDateString()}\n          </div>\n          <div className=\"inline-flex gap-1.5 items-center text-nowrap\">\n            <DatabaseUpdatedIcon className=\"size-6\" title=\"Date Last Updated\" />\n            {new Date(checklist.updatedAt).toDateString()}\n          </div>\n          <div className=\"inline-flex gap-1.5 items-center text-nowrap\">\n            {checklist.status === ChecklistItemStatus.Completed && (\n              <SolidCheckmark title=\"Date Completed\" className=\"size-6 text-green-500\"/>\n            )}\n            {checklist.status === ChecklistItemStatus.Completed && (\n              new Date(checklist.dateCompleted ?? dueDate).toDateString()\n            )}\n          </div>\n        </div>\n      </div>\n\n      \n\n      <div className=\"overflow-x-auto\">\n        <table className=\"text-left w-full border-neutral-300 border-1 border-collapse\">\n          <thead>\n            <tr className=\"border-b border-black\">\n              <th className=\"px-3 w-[200px]\">Item Name</th>\n              <th className=\"px-3\">Description</th>\n              <th className=\"text-center px-3\">Date Updated</th>\n              <th className=\"text-center px-3\">POC</th>\n              <th className=\"text-center px-3\">Status</th>\n            </tr>\n          </thead>\n          <tbody>\n            {checklist.items.map((item) => (\n              <tr key={item.id} className=\"border-b even:bg-zinc-50\">\n                <td className=\"py-2 px-3 whitespace-nowrap overflow-hidden text-ellipsis\">\n                  {item.templateItem.name}\n                </td>\n                <td className=\"px-3 max-w-xs overflow-hidden whitespace-nowrap text-ellipsis\">\n                  <div className=\"line-clamp-2\">\n                    <RichTextView>{item.templateItem.reference?.description ?? item.templateItem.description}</RichTextView>\n                  </div>\n                </td>\n                <td className=\"text-center px-3\">\n                  {new Date(item.updatedAt).toDateString()}\n                </td>\n                <td className=\"text-center px-3\">\n                  {item.templateItem.requiredRole.name}\n                </td>\n                <td className=\"text-center px-3\">\n                  {item.isComplete && (\n                    <Badge className=\"gap-1\">\n                      <CheckIcon className=\"size-4\" />\n                  Signed\n                    </Badge>\n                  )}\n                  {!item.isComplete && item.userComplete && (\n                    <Badge variant=\"green\">\n                  Ready to Complete\n                    </Badge>\n                  )}\n                  {!item.isComplete && !item.userComplete && (\n                    <Badge className=\"gap-1\" variant=\"warning\">\n                      <ClockIcon className=\"size-5\" />\n                  Awaiting Member\n                    </Badge>\n                  )}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </>\n\n  );\n};\nexport const ErrorBoundary = ErrorReport;\nexport default MemberChecklist;\n"],"names":["LockClosedIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","CheckIcon","StatusBadge","status","jsxs","Badge","className","variant","children","jsx","PauseIcon","SolidCheckmark","ArchiveBoxArrowDownIcon","MemberChecklist","user","checklist","useLoaderData","navigate","useNavigate","dueDate","Date","createdAt","setDate","getDate","completedCount","items","filter","item","isComplete","length","totalCount","Fragment","Button","onClick","name","StartTimer","toDateString","CalendarDaysIcon","DatabaseUpdatedIcon","updatedAt","ChecklistItemStatus","Completed","dateCompleted","map","templateItem","RichTextView","reference","description","requiredRole","userComplete","ClockIcon","id","ErrorBoundary","ErrorReport"],"mappings":"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","x_google_ignoreList":[0,1]}