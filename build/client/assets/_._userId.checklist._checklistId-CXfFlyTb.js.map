{"version":3,"file":"_._userId.checklist._checklistId-CXfFlyTb.js","sources":["../../../app/routes/_withNav+/_withSideBar+/_manage+/user+/_.$userId.checklist.$checklistId.tsx"],"sourcesContent":["/**\n * This was planned to be a place for CSS to manage user checklists. But that will all be done from the checklist pages\n */\nimport ErrorReport from '@components/ui/ErrorReport';\nimport { TrashIcon } from '@heroicons/react/24/solid';\nimport { userProfileSelect } from '@lib/constants';\nimport { Attribute } from '@lib/utils';\nimport { json, type LoaderFunctionArgs } from '@remix-run/node';\nimport { useLoaderData } from '@remix-run/react';\nimport db from '@services/db.server';\nimport { requireUser } from '@services/user.server';\n\nexport const loader = async ({ request, params }: LoaderFunctionArgs) => {\n  await requireUser(request, {permissions:[\n    Attribute.MEMBERS_READWRITE,\n    Attribute.CHECKLISTS_READWRITE,\n  ]});\n  const manageChecklist = await db.checklist.findFirst({\n    where: {\n      id: params.checklistId,\n      userId: params.userId,\n    },\n    include: {\n      items: {\n        include: {\n          templateItem: {\n            include: {\n              requiredRole: {\n                include: {\n                  role: true,\n                },\n              },\n            },\n          },\n        },\n      },\n      user: {\n        select: {\n          ...userProfileSelect(),\n        },\n      },\n    },\n  });\n\n  return json({ manageChecklist });\n};\n\nconst ManageUserChecklist = () => {\n  const { manageChecklist } = useLoaderData<typeof loader>();\n\n  return (\n    <>\n      <h1>Manage User Checklist</h1>\n      <h2>{manageChecklist?.user.name}</h2>\n      {manageChecklist && <p>{manageChecklist.name}</p>}\n      <div>\n        {manageChecklist &&\n          manageChecklist.items.map((item) => (\n            <p key={item.id}>\n              {item.templateItem.name} -{' '}\n              {item.isComplete ? 'Complete' : 'Not Complete'} -{' '}\n              {item.templateItem.requiredRole.role.name}{' '}\n              <TrashIcon className=\"h-6 w-6 text-red-700\"></TrashIcon>\n            </p>\n          ))}\n      </div>\n    </>\n  );\n};\nexport const ErrorBoundary = ErrorReport;\nexport default ManageUserChecklist;\n"],"names":["ManageUserChecklist","manageChecklist","useLoaderData","jsxs","Fragment","children","jsx","user","name","items","map","item","templateItem","isComplete","requiredRole","role","TrashIcon","className","id","ErrorBoundary","ErrorReport"],"mappings":"+hBA+CMA,MAAAA,EAAsBA,IAAM,CAC1B,KAAA,CAAEC,gBAAAA,CAAgB,EAAIC,EAA6B,EAEzD,OAEIC,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SAAA,CAAAC,EAAA,IAAC,MAAGD,SAAqB,uBAAA,CAAA,EACxBC,EAAA,IAAA,KAAA,CAAID,SAAiBJ,GAAAA,YAAAA,EAAAM,KAAKC,KAAK,EAC/BP,GAAmBK,EAAA,IAAC,IAAG,CAAAD,SAAAJ,EAAgBO,IAAK,CAAA,EAC7CF,EAAA,IAAC,OACED,SACCJ,GAAAA,EAAgBQ,MAAMC,IAAKC,GACzBR,EAAA,KAAC,IACE,CAAAE,SAAA,CAAAM,EAAKC,aAAaJ,KAAK,KAAG,IAC1BG,EAAKE,WAAa,WAAa,eAAe,KAAG,IACjDF,EAAKC,aAAaE,aAAaC,KAAKP,KAAM,IAC3CF,EAAA,IAACU,EAAU,CAAAC,UAAU,sBAAuB,CAAA,CAAA,CAJtC,EAAAN,EAAKO,EAKb,CACD,CACL,CAAA,CAAA,CACF,CAAA,CAEJ,EACaC,EAAgBC"}