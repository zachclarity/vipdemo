import{r as e,R as j,j as u}from"./index-CGKE_yqd.js";import"./index-CPe-BBEd.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i=new n.Error().stack;i&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[i]="7e5a4cba-f386-44bc-aece-025de5ee8477",n._sentryDebugIdIdentifier="sentry-dbid-7e5a4cba-f386-44bc-aece-025de5ee8477")}catch{}})();const x=e.createContext(void 0);function y({children:n,initialOrgId:i}){const[a,c]=e.useState(!1),o=e.useRef(i),t=j.useMemo(()=>({manualSet:a,setManualSet:c,orgId:o}),[a]);return u.jsx(x.Provider,{value:t,children:n})}function C(){const n=e.useContext(x);if(n===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return n}function S(n){return n?n.depth<=1?n.name:n.abbreviation||n.name:""}function B({selected:n,onChange:i,children:a}){return u.jsxs("select",{onChange:c=>i(c.target.value),value:n,className:"rounded-md w-full border-gray-300 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 disabled:cursor-not-allowed disabled:bg-gray-50",children:[u.jsx("option",{value:"",children:"Next Organization"}),a]})}function D({children:n,value:i}){return u.jsx("option",{value:i,children:n})}function b({tree:n,setNewParent:i,ancestors:a}){var f,m;const[c,o]=e.useState(""),{manualSet:t,setManualSet:r,orgId:d}=C(),h=e.useCallback(s=>{s.preventDefault(),r&&r(!0),c&&(o(""),i((n==null?void 0:n.uuid)??""))},[c,r,i,n==null?void 0:n.uuid]),p=e.useCallback(s=>{o(s),i(s)},[i]);e.useEffect(()=>{if(!t&&a.length>0&&(n!=null&&n.children)){const s=n.children.find(v=>a.includes(v.uuid));s&&s.uuid!==(d==null?void 0:d.current)?(o(s.uuid),i(s.uuid)):s||o("")}},[a,n,t,d==null?void 0:d.current,i]);const l=(f=n==null?void 0:n.children)==null?void 0:f.filter(s=>s.uuid!==(d==null?void 0:d.current)),g=(m=n==null?void 0:n.children)==null?void 0:m.find(s=>s.uuid===c);return u.jsxs(u.Fragment,{children:[u.jsx("div",{onClick:h,className:`${n!=null&&n.children&&c?"text-sm text-zinc-500 hover:text-red-800 hover:cursor-pointer":"text-base"} inline-flex`,children:S(n)}),(n==null?void 0:n.children)&&u.jsx("span",{className:"text-zinc-600 text-xs",children:" / "}),c&&u.jsx(b,{setNewParent:i,tree:g,ancestors:a}),l&&(l==null?void 0:l.length)>0&&u.jsxs("div",{className:"mt-2",children:[!c&&u.jsx(B,{selected:c,onChange:p,children:l.map(s=>u.jsx(D,{value:s.uuid,children:s.name},s.uuid))}),c&&c!=="DAF"&&u.jsx("div",{className:"ml-1"})]})]})}function E({orgId:n,...i}){return u.jsx(y,{initialOrgId:n,children:u.jsx(b,{...i})})}export{E as B};
//# sourceMappingURL=Breadcrumbs-BIMwwxZu.js.map
