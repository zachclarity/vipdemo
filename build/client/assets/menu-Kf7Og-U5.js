import{M as ie,F as se,y as de,$ as ce,a as me,w as fe,e as pe,x as ve,R as Ie,b as be,c as ge,d as ye,u as Ee,K as Y,P as Se,f as g,r as he,g as U}from"./calculate-active-index-B9zBCtTZ.js";import{r as f,R as $}from"./index-CGKE_yqd.js";import{r as A}from"./components-BktKjo96.js";import{n as O,o as b,O as z,K as F,y as K,b as xe,L as w,c as De,a as Z,i as L,_ as ee,d as Pe,u as Re,x as Me,e as $e,f as Fe,g as we,p as Ce,R as ke,r as Te,h as _e,w as Ae,j as Oe,k as Le,q as I,v as Ke,F as J,G as te,z as Ne}from"./portal-5Px_MhHe.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="55354eab-3243-4720-9bc0-2b958973fb91",e._sentryDebugIdIdentifier="sentry-dbid-55354eab-3243-4720-9bc0-2b958973fb91")}catch{}})();function Be(e,t){let l=f.useRef({left:0,top:0});if(O(()=>{if(!t)return;let a=t.getBoundingClientRect();a&&(l.current=a)},[e,t]),t==null||!e||t===document.activeElement)return!1;let n=t.getBoundingClientRect();return n.top!==l.current.top||n.left!==l.current.left}let W=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function X(e){var t,l;let n=(t=e.innerText)!=null?t:"",a=e.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let u=!1;for(let d of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))d.remove(),u=!0;let o=u?(l=a.innerText)!=null?l:"":n;return W.test(o)&&(o=o.replace(W,"")),o}function Qe(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let l=e.getAttribute("aria-labelledby");if(l){let n=l.split(" ").map(a=>{let u=document.getElementById(a);if(u){let o=u.getAttribute("aria-label");return typeof o=="string"?o.trim():X(u).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return X(e).trim()}function Ue(e){let t=f.useRef(""),l=f.useRef("");return b(()=>{let n=e.current;if(!n)return"";let a=n.innerText;if(t.current===a)return l.current;let u=Qe(n).trim().toLowerCase();return t.current=a,l.current=u,u})}var je=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(je||{}),qe=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(qe||{}),Ge=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e))(Ge||{});function j(e,t=l=>l){let l=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=Ne(t(e.items.slice()),u=>u.dataRef.current.domRef.current),a=l?n.indexOf(l):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let He={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var l,n,a,u,o;if(e.menuState===1)return e;let d={...e,searchQuery:"",activationTrigger:(l=t.trigger)!=null?l:1,__demoMode:!1};if(t.focus===g.Nothing)return{...d,activeItemIndex:null};if(t.focus===g.Specific)return{...d,activeItemIndex:e.items.findIndex(m=>m.id===t.id)};if(t.focus===g.Previous){let m=e.activeItemIndex;if(m!==null){let y=e.items[m].dataRef.current.domRef,r=U(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});if(r!==null){let s=e.items[r].dataRef.current.domRef;if(((n=y.current)==null?void 0:n.previousElementSibling)===s.current||((a=s.current)==null?void 0:a.previousElementSibling)===null)return{...d,activeItemIndex:r}}}}else if(t.focus===g.Next){let m=e.activeItemIndex;if(m!==null){let y=e.items[m].dataRef.current.domRef,r=U(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});if(r!==null){let s=e.items[r].dataRef.current.domRef;if(((u=y.current)==null?void 0:u.nextElementSibling)===s.current||((o=s.current)==null?void 0:o.nextElementSibling)===null)return{...d,activeItemIndex:r}}}}let c=j(e),p=U(t,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});return{...d,...c,activeItemIndex:p}},3:(e,t)=>{let l=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),a=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+l).concat(e.items.slice(0,e.activeItemIndex+l)):e.items).find(o=>{var d;return((d=o.dataRef.current.textValue)==null?void 0:d.startsWith(n))&&!o.dataRef.current.disabled}),u=a?e.items.indexOf(a):-1;return u===-1||u===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:u,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let l=j(e,n=>[...n,{id:t.id,dataRef:t.dataRef}]);return{...e,...l}},6:(e,t)=>{let l=j(e,n=>{let a=n.findIndex(u=>u.id===t.id);return a!==-1&&n.splice(a,1),n});return{...e,...l,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element}},q=f.createContext(null);q.displayName="MenuContext";function N(e){let t=f.useContext(q);if(t===null){let l=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,N),l}return t}function Ve(e,t){return Z(t.type,He,e,t)}let ze=f.Fragment;function Je(e,t){let{__demoMode:l=!1,...n}=e,a=f.useReducer(Ve,{__demoMode:l,menuState:l?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:u,itemsElement:o,buttonElement:d},c]=a,p=K(t);xe(u===0,[d,o],(x,S)=>{c({type:1}),Oe(S,Le.Loose)||(x.preventDefault(),d==null||d.focus())});let m=b(()=>{c({type:1})}),y=f.useMemo(()=>({open:u===0,close:m}),[u,m]),r={ref:p},s=w();return $.createElement(ie,null,$.createElement(q.Provider,{value:a},$.createElement(De,{value:Z(u,{0:L.Open,1:L.Closed})},s({ourProps:r,theirProps:n,slot:y,defaultTag:ze,name:"Menu"}))))}let We="button";function Xe(e,t){var l;let n=f.useId(),{id:a=`headlessui-menu-button-${n}`,disabled:u=!1,autoFocus:o=!1,...d}=e,[c,p]=N("Menu.Button"),m=se(),y=K(t,de(),b(v=>p({type:7,element:v}))),r=b(v=>{switch(v.key){case I.Space:case I.Enter:case I.ArrowDown:v.preventDefault(),v.stopPropagation(),A.flushSync(()=>p({type:0})),p({type:2,focus:g.First});break;case I.ArrowUp:v.preventDefault(),v.stopPropagation(),A.flushSync(()=>p({type:0})),p({type:2,focus:g.Last});break}}),s=b(v=>{switch(v.key){case I.Space:v.preventDefault();break}}),x=b(v=>{var T;if(he(v.currentTarget))return v.preventDefault();u||(c.menuState===0?(A.flushSync(()=>p({type:1})),(T=c.buttonElement)==null||T.focus({preventScroll:!0})):(v.preventDefault(),p({type:0})))}),{isFocusVisible:S,focusProps:D}=ce({autoFocus:o}),{isHovered:P,hoverProps:C}=me({isDisabled:u}),{pressed:R,pressProps:h}=fe({disabled:u}),k=f.useMemo(()=>({open:c.menuState===0,active:R||c.menuState===0,disabled:u,hover:P,focus:S,autofocus:o}),[c,P,S,R,u,o]),M=ee(m(),{ref:y,id:a,type:pe(e,c.buttonElement),"aria-haspopup":"menu","aria-controls":(l=c.itemsElement)==null?void 0:l.id,"aria-expanded":c.menuState===0,disabled:u||void 0,autoFocus:o,onKeyDown:r,onKeyUp:s,onClick:x},D,C,h);return w()({ourProps:M,theirProps:d,slot:k,defaultTag:We,name:"Menu.Button"})}let Ye="div",Ze=z.RenderStrategy|z.Static;function et(e,t){var l,n;let a=f.useId(),{id:u=`headlessui-menu-items-${a}`,anchor:o,portal:d=!1,modal:c=!0,transition:p=!1,...m}=e,y=ve(o),[r,s]=N("Menu.Items"),[x,S]=Ie(y),D=be(),[P,C]=f.useState(null),R=K(t,y?x:null,b(i=>s({type:8,element:i})),C),h=Pe(r.itemsElement);y&&(d=!0);let k=Re(),[M,v]=Me(p,P,k!==null?(k&L.Open)===L.Open:r.menuState===0);$e(M,r.buttonElement,()=>{s({type:1})});let T=r.__demoMode?!1:c&&r.menuState===0;Fe(T,h);let B=r.__demoMode?!1:c&&r.menuState===0;we(B,{allowed:f.useCallback(()=>[r.buttonElement,r.itemsElement],[r.buttonElement,r.itemsElement])});let Q=r.menuState!==0,E=Be(Q,r.buttonElement)?!1:M;f.useEffect(()=>{let i=r.itemsElement;i&&r.menuState===0&&i!==(h==null?void 0:h.activeElement)&&i.focus({preventScroll:!0})},[r.menuState,r.itemsElement,h]),ge(r.menuState===0,{container:r.itemsElement,accept(i){return i.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:i.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(i){i.setAttribute("role","none")}});let _=Ce(),ne=b(i=>{var G,H,V;switch(_.dispose(),i.key){case I.Space:if(r.searchQuery!=="")return i.preventDefault(),i.stopPropagation(),s({type:3,value:i.key});case I.Enter:if(i.preventDefault(),i.stopPropagation(),s({type:1}),r.activeItemIndex!==null){let{dataRef:oe}=r.items[r.activeItemIndex];(H=(G=oe.current)==null?void 0:G.domRef.current)==null||H.click()}te(r.buttonElement);break;case I.ArrowDown:return i.preventDefault(),i.stopPropagation(),s({type:2,focus:g.Next});case I.ArrowUp:return i.preventDefault(),i.stopPropagation(),s({type:2,focus:g.Previous});case I.Home:case I.PageUp:return i.preventDefault(),i.stopPropagation(),s({type:2,focus:g.First});case I.End:case I.PageDown:return i.preventDefault(),i.stopPropagation(),s({type:2,focus:g.Last});case I.Escape:i.preventDefault(),i.stopPropagation(),A.flushSync(()=>s({type:1})),(V=r.buttonElement)==null||V.focus({preventScroll:!0});break;case I.Tab:i.preventDefault(),i.stopPropagation(),A.flushSync(()=>s({type:1})),Ke(r.buttonElement,i.shiftKey?J.Previous:J.Next);break;default:i.key.length===1&&(s({type:3,value:i.key}),_.setTimeout(()=>s({type:4}),350));break}}),re=b(i=>{switch(i.key){case I.Space:i.preventDefault();break}}),le=f.useMemo(()=>({open:r.menuState===0}),[r.menuState]),ae=ee(y?D():{},{"aria-activedescendant":r.activeItemIndex===null||(l=r.items[r.activeItemIndex])==null?void 0:l.id,"aria-labelledby":(n=r.buttonElement)==null?void 0:n.id,id:u,onKeyDown:ne,onKeyUp:re,role:"menu",tabIndex:r.menuState===0?0:void 0,ref:R,style:{...m.style,...S,"--button-width":ye(r.buttonElement,!0).width},...ke(v)}),ue=w();return $.createElement(Te,{enabled:d?e.static||M:!1},ue({ourProps:ae,theirProps:m,slot:le,defaultTag:Ye,features:Ze,visible:E,name:"Menu.Items"}))}let tt=f.Fragment;function nt(e,t){let l=f.useId(),{id:n=`headlessui-menu-item-${l}`,disabled:a=!1,...u}=e,[o,d]=N("Menu.Item"),c=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===n:!1,p=f.useRef(null),m=K(t,p);O(()=>{if(!o.__demoMode&&o.menuState===0&&c&&o.activationTrigger!==0)return _e().requestAnimationFrame(()=>{var E,_;(_=(E=p.current)==null?void 0:E.scrollIntoView)==null||_.call(E,{block:"nearest"})})},[o.__demoMode,p,c,o.menuState,o.activationTrigger,o.activeItemIndex]);let y=Ue(p),r=f.useRef({disabled:a,domRef:p,get textValue(){return y()}});O(()=>{r.current.disabled=a},[r,a]),O(()=>(d({type:5,id:n,dataRef:r}),()=>d({type:6,id:n})),[r,n]);let s=b(()=>{d({type:1})}),x=b(E=>{if(a)return E.preventDefault();d({type:1}),te(o.buttonElement)}),S=b(()=>{if(a)return d({type:2,focus:g.Nothing});d({type:2,focus:g.Specific,id:n})}),D=Ee(),P=b(E=>{D.update(E),!a&&(c||d({type:2,focus:g.Specific,id:n,trigger:0}))}),C=b(E=>{D.wasMoved(E)&&(a||c||d({type:2,focus:g.Specific,id:n,trigger:0}))}),R=b(E=>{D.wasMoved(E)&&(a||c&&d({type:2,focus:g.Nothing}))}),[h,k]=Y(),[M,v]=Ae(),T=f.useMemo(()=>({active:c,focus:c,disabled:a,close:s}),[c,a,s]),B={id:n,ref:m,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-labelledby":h,"aria-describedby":M,disabled:void 0,onClick:x,onFocus:S,onPointerEnter:P,onMouseEnter:P,onPointerMove:C,onMouseMove:C,onPointerLeave:R,onMouseLeave:R},Q=w();return $.createElement(k,null,$.createElement(v,null,Q({ourProps:B,theirProps:u,slot:T,defaultTag:tt,name:"Menu.Item"})))}let rt="div";function lt(e,t){let[l,n]=Y(),a=e,u={ref:t,"aria-labelledby":l,role:"group"},o=w();return $.createElement(n,null,o({ourProps:u,theirProps:a,slot:{},defaultTag:rt,name:"Menu.Section"}))}let at="header";function ut(e,t){let l=f.useId(),{id:n=`headlessui-menu-heading-${l}`,...a}=e,u=Se();O(()=>u.register(n),[n,u.register]);let o={id:n,ref:t,role:"presentation",...u.props};return w()({ourProps:o,theirProps:a,slot:{},defaultTag:at,name:"Menu.Heading"})}let ot="div";function it(e,t){let l=e,n={ref:t,role:"separator"};return w()({ourProps:n,theirProps:l,slot:{},defaultTag:ot,name:"Menu.Separator"})}let st=F(Je),dt=F(Xe),ct=F(et),mt=F(nt),ft=F(lt),pt=F(ut),vt=F(it),Et=Object.assign(st,{Button:dt,Items:ct,Item:mt,Section:ft,Heading:pt,Separator:vt});export{mt as E,dt as I,ct as g,Et as r};
//# sourceMappingURL=menu-Kf7Og-U5.js.map
