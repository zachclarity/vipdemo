{"version":3,"file":"login-DgKdlVpj.js","sources":["../../../node_modules/@heroicons/react/24/outline/esm/EyeSlashIcon.js","../../../app/routes/_auth+/login.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction EyeSlashIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(EyeSlashIcon);\nexport default ForwardRef;","import ErrorReport from '@components/ui/ErrorReport';\nimport { EyeIcon, EyeSlashIcon } from '@heroicons/react/24/outline';\nimport type { ActionFunctionArgs, LoaderFunctionArgs } from '@remix-run/node';\nimport { json } from '@remix-run/node';\nimport { Form, Link, useLoaderData } from '@remix-run/react';\nimport { authenticator } from '@services/auth.server';\nimport { commitDataSession, getDataSession } from '@services/cookie.server';\nimport { commitSession, getSession } from '@services/session.server';\nimport { useState, useEffect } from 'react';\n\nexport const meta = () => [{ title: 'Login | vIP (Virtual In-Processing)' }];\n\nexport async function loader({ request }: LoaderFunctionArgs) {\n  await authenticator.isAuthenticated(request, {\n    successRedirect: '/checklist',\n  });\n  const session = await getSession(request.headers.get('cookie'));\n  const error = session.get(authenticator.sessionErrorKey);\n\n  const dataSession = await getDataSession(request.headers.get('Cookie'));\n  const message = dataSession.get('message') || null;\n\n  let headers = new Headers();\n  headers.append('X-Frame-Options', 'SAMEORIGIN');\n  headers.append('Content-Security-Policy', 'frame-ancestors: none');\n  headers.append('Set-Cookie', await commitSession(session));\n  headers.append('Set-Cookie', await commitDataSession(dataSession));\n\n  return json(\n    { error, message },\n    {\n      headers,\n    }\n  );\n}\n\nexport async function action({ request, context }: ActionFunctionArgs) {\n  return await authenticator.authenticate('user-pass', request, {\n    successRedirect: '/checklist',\n    failureRedirect: '/login',\n    throwOnError: true,\n    context,\n  });\n}\n\nconst LoginForm = () => {\n  const loaderData = useLoaderData<typeof loader>();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [animationTrigger, setAnimationTrigger] = useState(false);\n\n  const togglePasswordVisibility = () => {\n    setShowPassword((prev) => !prev);\n  };\n\n  useEffect(() => {\n    if (loaderData?.error) {\n      setAnimationTrigger(false);\n      requestAnimationFrame(() => {\n        setAnimationTrigger(true);\n      });\n    }\n  }, [loaderData?.error]);\n\n  return (\n    <>\n      <div className=\"relative flex overflow-hidden h-full\">\n        <div className=\"absolute inset-0 flex justify-center items-center flex-col gap-y-5\">\n          <div className=\"flex items-center text-center justify-center\">\n            {loaderData?.error && (\n              <div\n                className={`absolute rounded-2xl px-4 text-center bg-red-700 text-slate-100 ${\n                  animationTrigger ? 'animate-shake' : ''\n                }`}>\n                {loaderData?.error?.message}\n              </div>\n            )}\n            {loaderData?.message && (\n              <div className=\"absolute rounded-2xl text-center bg-green-700 text-slate-100\">\n                {loaderData?.message}\n              </div>\n            )}\n          </div>\n\n          <div className=\"p-10 w-[450px] flex-shrink-0 flex flex-col justify-between bg-white\">\n            <div className=\"flex justify-between ml-14 mr-14 mb-7\">\n              <img\n                className=\"w-50 h-20\"\n                src=\"/airforce.png\"\n                alt=\"United States Air Force\"/>\n              <img\n                className=\"w-20 h-20\"\n                src=\"/phoenix.png\"\n                alt=\"Travis AFB Phoenix Spark\"/>\n            </div>\n\n            <Form method=\"post\">\n              <div className=\"mb-5\">\n                <label htmlFor=\"email\" className=\"block text-sm font-medium leading-6 text-gray-900\">\n                  Email address\n                </label>\n                <input\n                  name=\"email\"\n                  type=\"email\"\n                  autoComplete=\"email\"\n                  className=\"block w-full border-1 border-gray-800 py-1.5 focus:outline-none focus:ring-0 focus:border-gray-800 text-gray-900 shadow-sm placeholder:text-gray-400\"/>\n              </div>\n\n              <div className=\"mb-5\">\n                <label htmlFor=\"password\" className=\"block text-sm font-medium leading-6 text-gray-900\">\n                  Password\n                </label>\n                <div className=\"relative\">\n                  <input\n                    name=\"password\"\n                    type={showPassword ? 'text' : 'password'}\n                    autoComplete=\"current-password\"\n                    className=\"block w-full border-1 border-gray-800 py-1.5 focus:outline-none focus:ring-0 focus:border-gray-800 text-gray-900 shadow-sm placeholder:text-gray-400\"/>\n                  <button\n                    type=\"button\"\n                    onClick={togglePasswordVisibility}\n                    className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-600\">\n                    {showPassword ? <EyeSlashIcon className=\"size-6\" /> : <EyeIcon className=\"size-6\" />}\n                  </button>\n                </div>\n              </div>\n\n              <button\n                type=\"submit\"\n                className=\"w-full justify-center bg-gray-800 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-blue focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white\">\n                Sign In\n              </button>\n              <p className=\"mt-10 text-center text-sm text-gray-500\">\n                Not a member?\n                <Link\n                  to=\"/register\"\n                  className=\"font-semibold leading-6 text-gray-800 hover:text-gray-800\">\n                  {' '}\n                  Register\n                </Link>\n              </p>\n              <div className=\"mt-1 text-center text-sm text-gray-500\">\n                <p>Have feedback, an issue, or want to request a demo?</p>\n                <Link\n                  to=\"https://travisspark.atlassian.net/servicedesk/customer/portal/4\"\n                  rel=\"noreferrer\"\n                  target=\"_blank\"\n                  className=\"font-semibold leading-6 text-gray-800 hover:text-gray-800\">\n                  Contact us here\n                </Link>\n              </div>\n            </Form>\n          </div>\n        </div>\n\n        <div className=\"overflow-hidden h-full\">\n          <img\n            className=\"object-cover object-center h-screen w-screen\"\n            src=\"/f-35-twin.jpeg\"\n            alt=\"Fighter Aircraft\"/>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport const ErrorBoundary = ErrorReport;\nexport default LoginForm;\n"],"names":["EyeSlashIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","meta","LoginForm","loaderData","useLoaderData","showPassword","setShowPassword","useState","animationTrigger","setAnimationTrigger","togglePasswordVisibility","prev","useEffect","error","requestAnimationFrame","jsx","Fragment","children","jsxs","className","message","src","alt","Form","method","htmlFor","name","type","autoComplete","onClick","EyeIcon","Link","to","rel","target","ErrorBoundary","ErrorReport"],"mappings":"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","x_google_ignoreList":[0]}